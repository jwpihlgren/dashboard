import{a as S,b as E}from"./chunk-J5FBVYRV.js";import{a as M}from"./chunk-Q7C7LTMQ.js";import"./chunk-RV3KCXOY.js";import{pa as C}from"./chunk-CPF6TSRO.js";import{$b as r,Ab as e,Bb as t,Cb as x,Tb as i,Ub as l,Xa as o,Xb as u,ac as m,bc as c,cc as p,gb as v,tb as f,xa as g}from"./chunk-CQTB3V4U.js";var U=(()=>{class s{constructor(){this.oceanographicalObservationsPeriodData=g.required(),this.thresholdConfig=g({thresholdColors:["#f8c03f","#32d2ac","#5693e9"],thresholdsAsUnits:[20,80,0]}),this.chartConfig={chartColors:["#f8c03f","#32d2ac","#5693e9"],thresholds:[.2,.7,1],unit:"%",domain:[0,1e3],margins:{top:20,right:0,bottom:30,left:65},data:[]}}ngOnInit(){this.chartConfig=this.createChartConfig(this.oceanographicalObservationsPeriodData())}createChartConfig(h){return this.chartConfig.data=h.value.map(n=>({date:new Date(n.date),value:n.value})),this.chartConfig.unit=h.parameter.unit,this.chartConfig.domain=[Math.min(...this.chartConfig.data.map(n=>n.value)),Math.max(...this.chartConfig.data.map(n=>n.value))],this.chartConfig.thresholds=this.chartConfig.thresholds?.map((n,d)=>{let a=Math.max(...this.chartConfig.domain);return d===this.thresholdConfig().thresholdsAsUnits.length-1?a:this.thresholdConfig().thresholdsAsUnits[d]/a}),this.chartConfig.chartColors=this.thresholdConfig().thresholdColors.map(n=>n),this.chartConfig}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=v({type:s,selectors:[["app-simple-water-level"]],inputs:{oceanographicalObservationsPeriodData:[1,"oceanographicalObservationsPeriodData"],thresholdConfig:[1,"thresholdConfig"]},decls:53,vars:49,consts:[[1,"card-title"],[1,"flex","row","gap-md"],[1,"flex","col","gap-xs","grow"],[1,"helper-text"],[3,"chartConfig"]],template:function(n,d){if(n&1&&(e(0,"h6",0),i(1,"Pliscos st\xE5nd"),t(),u(2),e(3,"div",1)(4,"div",2)(5,"h6",0),i(6,"Vattendrag"),t(),e(7,"span"),i(8),t()(),e(9,"div",2)(10,"h6",0),i(11,"M\xE4tstation"),t(),e(12,"span"),i(13),t()(),e(14,"div",2)(15,"h6",0),i(16,"\xC4gare"),t(),e(17,"span"),i(18),t()(),e(19,"div",2)(20,"h6",0),i(21,"Min"),t(),e(22,"span"),i(23),r(24,"hydrologicalMinMax"),r(25,"addUnit"),t(),e(26,"span",3),i(27),r(28,"hydrologicalMinMax"),r(29,"date"),t()(),e(30,"div",2)(31,"h6",0),i(32,"Max"),t(),e(33,"span"),i(34),r(35,"hydrologicalMinMax"),r(36,"addUnit"),t(),e(37,"span",3),i(38),r(39,"hydrologicalMinMax"),r(40,"date"),t()(),e(41,"div",2)(42,"h6",0),i(43,"Senast"),t(),e(44,"span"),i(45),r(46,"hydrologicalMinMax"),r(47,"addUnit"),t(),e(48,"span",3),i(49),r(50,"hydrologicalMinMax"),r(51,"date"),t()()(),x(52,"app-area-chart",4)),n&2){let a=d.oceanographicalObservationsPeriodData();o(8),l(a.station.name),o(5),l(a.station.key),o(5),l(a.station.owner),o(5),l(c(25,14,p(24,10,a.value,"min","value").value,a.parameter.unit)),o(4),l(m(29,21,p(28,17,a.value,"min","value").date)),o(7),l(c(36,27,p(35,23,a.value,"max","value").value,a.parameter.unit)),o(4),l(m(40,34,p(39,30,a.value,"max","value").date)),o(7),l(c(47,40,p(46,36,a.value,"max","date").value,a.parameter.unit)),o(4),l(m(51,47,p(50,43,a.value,"max","date").date)),o(3),f("chartConfig",d.createChartConfig(a))}},dependencies:[S,C,E,M],styles:["[_nghost-%COMP%]{height:362px;padding:var(--medium);display:flex;flex-direction:column;gap:var(--small)}app-area-chart[_ngcontent-%COMP%]{display:block;height:100%;background-color:var( --pnc-sys-color-surface-container-high);border-radius:var(--small)}"]})}}return s})();export{U as SimpleWaterLevelComponent};
