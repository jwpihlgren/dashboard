import{g as _}from"./chunk-X27PTZCP.js";import{Ab as i,Bb as l,Cb as y,Lb as M,Tb as c,Ub as s,Xa as n,Yb as x,ea as m,gb as b,jb as C,kc as P,na as h,sb as o,vb as d,xb as u,yb as g,zb as v}from"./chunk-CQTB3V4U.js";var f=(()=>{class a{transform(e){let t="";return e<=2?t="L\xE5g":e<=5?t="M\xE5ttlig":e<=7?t="H\xF6g":e<=10?t="Mycket h\xF6g":e>=11&&(t="Extrem"),t}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275pipe=C({name:"uviConverter",type:a,pure:!0})}}return a})();function w(a,p){if(a&1&&(i(0,"th")(1,"h6"),c(2),l()()),a&2){let e=p.$implicit;n(2),s(e.title)}}function T(a,p){if(a&1&&(i(0,"tr")(1,"td"),c(2),l(),i(3,"td"),c(4),l(),i(5,"td")(6,"div"),c(7),l()(),i(8,"td"),c(9),l(),i(10,"td"),c(11),l(),i(12,"td"),h(),i(13,"svg",1),y(14,"use"),l()()()),a&2){let e=p.$implicit,t=M();n(),d(e.time.type),o("data-cell",t.columnHeadings[0].title),n(),s(e.time.value),n(),d(e.temp.type),o("data-cell",t.columnHeadings[1].title),n(),s(e.temp.value),n(),d(e.uvi.type),o("data-cell",t.columnHeadings[2].title)("data-value",e.uvi.value),n(2),s(e.uvi.value),n(),d(e.precipitation.type),o("data-cell",t.columnHeadings[3].title),n(),s(e.precipitation.value),n(),d(e.clouds.type),o("data-cell",t.columnHeadings[4].title),n(),s(e.clouds.value),n(),d(e.symbol.type),o("data-cell",t.columnHeadings[5].title),n(2),o("href",e.symbol.value,null,"xlink")}}var U=(()=>{class a{constructor(){this.SE_LOCALE="sv-SE",this.LOCALE_OPTIONS={hour:"2-digit",minute:"2-digit",hour12:!1},this.columnHeadings=[{title:"Tid",type:"text"},{title:"Temp \xB0C",type:"numerical"},{title:"UV-I",type:"badge"},{title:"Nederb\xF6rd",type:"numerical"},{title:"Moln",type:"numerical"},{title:"V\xE4der",type:"symbol"}],this.tableRows=[],this.uviConverterPipe=m(f),this.weatherService=m(_),this.differs=m(P),this.differ=this.differs.find({}).create()}ngOnInit(){this.tableRows=this.createHourlyTableCells(this.forecast.hourly)}ngDoCheck(){this.differ.diff(this.forecast)&&(this.tableRows=this.createHourlyTableCells(this.forecast.hourly))}createHourlyTableCells(e){let t=[];return e.forEach(r=>{t.push({time:this.formatTime(r.validTime),temp:this.formatTemp(r.currentTemperature,r.apparentTemperature),uvi:this.formatUvi(r.UVI),precipitation:this.formatPrecipitation(r.minAmountOfPrecipitation,r.maxAmountOfPrecipitation),clouds:this.formatCloudiness(r.cloudiness),symbol:this.formatSymbol(r.symbol)})}),t}formatTime(e){return{value:new Date(e).toLocaleTimeString(this.SE_LOCALE,this.LOCALE_OPTIONS),type:"text"}}formatTemp(e,t){return{value:`${Math.round(e)}\xB0 (${Math.round(t)}\xB0)`,type:"numerical"}}formatUvi(e){return{value:this.uviConverterPipe.transform(e),type:"badge"}}formatPrecipitation(e,t){return{value:`${e} - ${t}mm`,type:"numerical"}}formatCloudiness(e){return{value:`${Math.round(e)} %`,type:"numerical"}}formatSymbol(e){return{value:this.weatherService.getIconUrl(e),type:"symbol"}}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275cmp=b({type:a,selectors:[["app-detailed-weather-table"]],inputs:{forecast:"forecast"},features:[x([f])],decls:10,vars:0,consts:[[1,"flex","row","j-start","a-center","gap-sm"],[1,"icon","currently-icon"]],template:function(t,r){t&1&&(i(0,"h6",0),c(1,"Timme f\xF6r timme"),l(),i(2,"table")(3,"thead")(4,"tr"),g(5,w,3,1,"th",null,u),l()(),i(7,"tbody"),g(8,T,15,25,"tr",null,u),l()()),t&2&&(n(5),v(r.columnHeadings),n(3),v(r.tableRows))},styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;padding:var(--medium);gap:var(--small);background-color:var(--pnc-sys-color-surface-container)}table[_ngcontent-%COMP%]{background-color:var( --pnc-sys-color-surface-container-highest);font-weight:var(--fw-500);padding:var(--small);border-radius:var(--small)}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding-inline:var(--medium);text-align:start}.numerical[_ngcontent-%COMP%]{text-align:end}.text[_ngcontent-%COMP%]{text-align:start}.badge[_ngcontent-%COMP%], .symbol[_ngcontent-%COMP%]{text-align:center}.badge[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:calc(var(--medium) + var(--small));min-width:8ch;width:100%;border-radius:var(--large);padding-inline:var(--small);display:flex;justify-content:center;align-items:center;font-size:var(--fs-100);font-weight:var(--fw-600);letter-spacing:2px}.badge[data-value=L\\e5g][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--green-300);color:var(--green-800)}.badge[data-value=M\\e5ttlig][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--green-500);color:var(--white)}.badge[data-value=H\\f6g][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--yellow-300);color:var(--yellow-800)}.badge[data-value="Mycket h\\f6g"][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--orange-500);color:var(--orange-800)}.badge[data-value=Extrem][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--red-500);color:var(--red-800)}.icon[_ngcontent-%COMP%]{width:calc(var(--large) - var(--small));height:calc(var(--large) - var(--small))}@media (max-width: 700px){table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{display:none}td[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:var(--medium);padding:var(--extra-small) var(--small)}.numerical[_ngcontent-%COMP%], .text[_ngcontent-%COMP%], .badge[_ngcontent-%COMP%], .symbol[_ngcontent-%COMP%]{text-align:start}td[_ngcontent-%COMP%]:first-child{padding-block-start:var(--medium)}td[_ngcontent-%COMP%]:last-child{padding-block-end:var(--medium)}td[_ngcontent-%COMP%]:before{content:attr(data-cell);float:left;font-size:var(--fs-100);text-transform:uppercase;font-weight:var(--fw-600);color:var(--on-light-background-100);letter-spacing:.067rem}tr[_ngcontent-%COMP%]:nth-of-type(2n){width:100%;background-color:var(--gray-100)}}']})}}return a})();export{U as a};
