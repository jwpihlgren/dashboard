import{a as qr,b as Kr,c as Gr,d as Zr,e as Yr,f as Xr,g as Jr,h as Qr,i as mi,j as eo,k as to,l as no,m as io,n as rt,o as vt,p as ao}from"./chunk-2MF6ZVA4.js";import{a as so}from"./chunk-U2HYI2PB.js";import{a as co}from"./chunk-ILZ6WM53.js";import{a as yn,b as yt,c as St,d as ro,e as fi,j as oo}from"./chunk-VBPNNZS2.js";import{a as bn,b as _n}from"./chunk-AVHTE6MK.js";import{a as Cn}from"./chunk-7CSIJSGA.js";import"./chunk-RV3KCXOY.js";import{a as lo}from"./chunk-ZEF5DCUT.js";import{a as Q,b as Le,c as Vr,d as Br,e as ot,f as Sn,g as wn}from"./chunk-3N5GP6Y6.js";import{Y as vn,e as hi,j as pi,n as gt,pa as je}from"./chunk-JTAA4J74.js";import{$ as kr,$a as Se,$b as re,A as ii,Ab as d,B as ri,Bb as _,C as yr,Cb as Re,D as Ae,E as B,F as ye,G as oi,H as Je,I as Sr,J as nn,Jb as H,K as Qe,Kb as P,L as ae,Lb as mt,M as ai,Mb as ft,N as wr,Nb as hn,O as Cr,Ob as Fr,Pb as zr,Q as rn,Qb as pn,R as br,Rb as mn,S as on,Sb as f,T as _r,Tb as M,U as L,Ua as ln,Ub as J,V as an,Va as Tr,W as E,Wa as p,Wb as ie,X as xr,Y as ne,Yb as Ve,Z as N,Zb as Be,_a as ui,_b as U,a as C,aa as pe,ab as Er,ac as et,b as Z,ba as si,bc as me,ca as G,cb as Ar,d as T,da as v,dc as Wr,e as hr,ea as Ir,eb as jr,ec as di,f as pr,fb as x,ga as sn,h as Qn,ha as He,hb as un,hc as fn,i as ei,ia as Or,j as ue,ja as cn,jb as W,k as he,ka as ee,kb as Lr,l as tn,la as te,lb as Ur,lc as gn,m as K,ma as Rr,n as oe,nb as $r,o as w,oa as ci,ob as Nr,oc as Hr,p as be,pa as Mr,pb as _e,q as mr,qa as Et,qb as xe,r as fr,ra as At,rb as dn,sa as Pr,sb as b,t as R,ta as De,u as ti,v as ce,vb as X,w as ni,wa as Dr,wb as ke,x as gr,xa as li,xb as Ie,y as it,ya as j,yb as Oe,z as vr,zb as h}from"./chunk-ZZXCGJNC.js";var D="primary",Gt=Symbol("RouteTitle"),wi=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function kt(n){return new wi(n)}function Ya(n,i,e){let t=e.path.split("/");if(t.length>n.length||e.pathMatch==="full"&&(i.hasChildren()||t.length<n.length))return null;let r={};for(let o=0;o<t.length;o++){let a=t[o],s=n[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,t.length),posParams:r}}function Xa(n,i){if(n.length!==i.length)return!1;for(let e=0;e<n.length;++e)if(!Ue(n[e],i[e]))return!1;return!0}function Ue(n,i){let e=n?Ci(n):void 0,t=i?Ci(i):void 0;if(!e||!t||e.length!=t.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!yo(n[r],i[r]))return!1;return!0}function Ci(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yo(n,i){if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;let e=[...n].sort(),t=[...i].sort();return e.every((r,o)=>t[o]===r)}else return n===i}function So(n){return n.length>0?n[n.length-1]:null}function tt(n){return mr(n)?n:Ur(n)?oe(Promise.resolve(n)):w(n)}var Ja={exact:Co,subset:bo},wo={exact:Qa,subset:es,ignored:()=>!0};function uo(n,i,e){return Ja[e.paths](n.root,i.root,e.matrixParams)&&wo[e.queryParams](n.queryParams,i.queryParams)&&!(e.fragment==="exact"&&n.fragment!==i.fragment)}function Qa(n,i){return Ue(n,i)}function Co(n,i,e){if(!st(n.segments,i.segments)||!In(n.segments,i.segments,e)||n.numberOfChildren!==i.numberOfChildren)return!1;for(let t in i.children)if(!n.children[t]||!Co(n.children[t],i.children[t],e))return!1;return!0}function es(n,i){return Object.keys(i).length<=Object.keys(n).length&&Object.keys(i).every(e=>yo(n[e],i[e]))}function bo(n,i,e){return _o(n,i,i.segments,e)}function _o(n,i,e,t){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!st(r,e)||i.hasChildren()||!In(r,e,t))}else if(n.segments.length===e.length){if(!st(n.segments,e)||!In(n.segments,e,t))return!1;for(let r in i.children)if(!n.children[r]||!bo(n.children[r],i.children[r],t))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!st(n.segments,r)||!In(n.segments,r,t)||!n.children[D]?!1:_o(n.children[D],i,o,t)}}function In(n,i,e){return i.every((t,r)=>wo[e](n[r].parameters,t.parameters))}var Ke=class{root;queryParams;fragment;_queryParamMap;constructor(i=new V([],{}),e={},t=null){this.root=i,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=kt(this.queryParams),this._queryParamMap}toString(){return is.serialize(this)}},V=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return On(this)}},at=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=kt(this.parameters),this._parameterMap}toString(){return ko(this)}};function ts(n,i){return st(n,i)&&n.every((e,t)=>Ue(e.parameters,i[t].parameters))}function st(n,i){return n.length!==i.length?!1:n.every((e,t)=>e.path===i[t].path)}function ns(n,i){let e=[];return Object.entries(n.children).forEach(([t,r])=>{t===D&&(e=e.concat(i(r,t)))}),Object.entries(n.children).forEach(([t,r])=>{t!==D&&(e=e.concat(i(r,t)))}),e}var Ki=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:()=>new Nt,providedIn:"root"})}return n})(),Nt=class{parse(i){let e=new _i(i);return new Ke(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${jt(i.root,!0)}`,t=as(i.queryParams),r=typeof i.fragment=="string"?`#${rs(i.fragment)}`:"";return`${e}${t}${r}`}},is=new Nt;function On(n){return n.segments.map(i=>ko(i)).join("/")}function jt(n,i){if(!n.hasChildren())return On(n);if(i){let e=n.children[D]?jt(n.children[D],!1):"",t=[];return Object.entries(n.children).forEach(([r,o])=>{r!==D&&t.push(`${r}:${jt(o,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=ns(n,(t,r)=>r===D?[jt(n.children[D],!1)]:[`${r}:${jt(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[D]!=null?`${On(n)}/${e[0]}`:`${On(n)}/(${e.join("//")})`}}function xo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xn(n){return xo(n).replace(/%3B/gi,";")}function rs(n){return encodeURI(n)}function bi(n){return xo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rn(n){return decodeURIComponent(n)}function ho(n){return Rn(n.replace(/\+/g,"%20"))}function ko(n){return`${bi(n.path)}${os(n.parameters)}`}function os(n){return Object.entries(n).map(([i,e])=>`;${bi(i)}=${bi(e)}`).join("")}function as(n){let i=Object.entries(n).map(([e,t])=>Array.isArray(t)?t.map(r=>`${xn(e)}=${xn(r)}`).join("&"):`${xn(e)}=${xn(t)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var ss=/^[^\/()?;#]+/;function gi(n){let i=n.match(ss);return i?i[0]:""}var cs=/^[^\/()?;=#]+/;function ls(n){let i=n.match(cs);return i?i[0]:""}var us=/^[^=?&#]+/;function ds(n){let i=n.match(us);return i?i[0]:""}var hs=/^[^&#]+/;function ps(n){let i=n.match(hs);return i?i[0]:""}var _i=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new V([],{}):new V([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(t[D]=new V(i,e)),t}parseSegment(){let i=gi(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(i),new at(Rn(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=ls(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let r=gi(this.remaining);r&&(t=r,this.capture(t))}i[Rn(e)]=Rn(t)}parseQueryParam(i){let e=ds(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let a=ps(this.remaining);a&&(t=a,this.capture(t))}let r=ho(e),o=ho(t);if(i.hasOwnProperty(r)){let a=i[r];Array.isArray(a)||(a=[a],i[r]=a),a.push(o)}else i[r]=o}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=gi(this.remaining),r=this.remaining[t.length];if(r!=="/"&&r!==")"&&r!==";")throw new ne(4010,!1);let o;t.indexOf(":")>-1?(o=t.slice(0,t.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=D);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[D]:new V([],a),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new ne(4011,!1)}};function Io(n){return n.segments.length>0?new V([],{[D]:n}):n}function Oo(n){let i={};for(let[t,r]of Object.entries(n.children)){let o=Oo(r);if(t===D&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))i[a]=s;else(o.segments.length>0||o.hasChildren())&&(i[t]=o)}let e=new V(n.segments,i);return ms(e)}function ms(n){if(n.numberOfChildren===1&&n.children[D]){let i=n.children[D];return new V(n.segments.concat(i.segments),i.children)}return n}function ct(n){return n instanceof Ke}function fs(n,i,e=null,t=null){let r=Ro(n);return Mo(r,i,e,t)}function Ro(n){let i;function e(o){let a={};for(let c of o.children){let l=e(c);a[c.outlet]=l}let s=new V(o.url,a);return o===n&&(i=s),s}let t=e(n.root),r=Io(t);return i??r}function Mo(n,i,e,t){let r=n;for(;r.parent;)r=r.parent;if(i.length===0)return vi(r,r,r,e,t);let o=gs(i);if(o.toRoot())return vi(r,r,new V([],{}),e,t);let a=vs(o,r,n),s=a.processChildren?Ut(a.segmentGroup,a.index,o.commands):Do(a.segmentGroup,a.index,o.commands);return vi(r,a.segmentGroup,s,e,t)}function Pn(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ft(n){return typeof n=="object"&&n!=null&&n.outlets}function vi(n,i,e,t,r){let o={};t&&Object.entries(t).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let a;n===i?a=e:a=Po(n,i,e);let s=Io(Oo(a));return new Ke(s,o,r)}function Po(n,i,e){let t={};return Object.entries(n.children).forEach(([r,o])=>{o===i?t[r]=e:t[r]=Po(o,i,e)}),new V(n.segments,t)}var Dn=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,t){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=t,i&&t.length>0&&Pn(t[0]))throw new ne(4003,!1);let r=t.find(Ft);if(r&&r!==So(t))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gs(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Dn(!0,0,n);let i=0,e=!1,t=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?i++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Dn(e,i,t)}var bt=class{segmentGroup;processChildren;index;constructor(i,e,t){this.segmentGroup=i,this.processChildren=e,this.index=t}};function vs(n,i,e){if(n.isAbsolute)return new bt(i,!0,0);if(!e)return new bt(i,!1,NaN);if(e.parent===null)return new bt(e,!0,0);let t=Pn(n.commands[0])?0:1,r=e.segments.length-1+t;return ys(e,r,n.numberOfDoubleDots)}function ys(n,i,e){let t=n,r=i,o=e;for(;o>r;){if(o-=r,t=t.parent,!t)throw new ne(4005,!1);r=t.segments.length}return new bt(t,!1,r-o)}function Ss(n){return Ft(n[0])?n[0].outlets:{[D]:n}}function Do(n,i,e){if(n??=new V([],{}),n.segments.length===0&&n.hasChildren())return Ut(n,i,e);let t=ws(n,i,e),r=e.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let o=new V(n.segments.slice(0,t.pathIndex),{});return o.children[D]=new V(n.segments.slice(t.pathIndex),n.children),Ut(o,0,r)}else return t.match&&r.length===0?new V(n.segments,{}):t.match&&!n.hasChildren()?xi(n,i,e):t.match?Ut(n,0,r):xi(n,i,e)}function Ut(n,i,e){if(e.length===0)return new V(n.segments,{});{let t=Ss(e),r={};if(Object.keys(t).some(o=>o!==D)&&n.children[D]&&n.numberOfChildren===1&&n.children[D].segments.length===0){let o=Ut(n.children[D],i,e);return new V(n.segments,o.children)}return Object.entries(t).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Do(n.children[o],i,a))}),Object.entries(n.children).forEach(([o,a])=>{t[o]===void 0&&(r[o]=a)}),new V(n.segments,r)}}function ws(n,i,e){let t=0,r=i,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(t>=e.length)return o;let a=n.segments[r],s=e[t];if(Ft(s))break;let c=`${s}`,l=t<e.length-1?e[t+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!mo(c,l,a))return o;t+=2}else{if(!mo(c,{},a))return o;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}function xi(n,i,e){let t=n.segments.slice(0,i),r=0;for(;r<e.length;){let o=e[r];if(Ft(o)){let c=Cs(o.outlets);return new V(t,c)}if(r===0&&Pn(e[0])){let c=n.segments[i];t.push(new at(c.path,po(e[0]))),r++;continue}let a=Ft(o)?o.outlets[D]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&Pn(s)?(t.push(new at(a,po(s))),r+=2):(t.push(new at(a,{})),r++)}return new V(t,{})}function Cs(n){let i={};return Object.entries(n).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(i[e]=xi(new V([],{}),0,t))}),i}function po(n){let i={};return Object.entries(n).forEach(([e,t])=>i[e]=`${t}`),i}function mo(n,i,e){return n==e.path&&Ue(i,e.parameters)}var Mn="imperative",se=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(se||{}),Me=class{id;url;constructor(i,e){this.id=i,this.url=e}},zt=class extends Me{type=se.NavigationStart;navigationTrigger;restoredState;constructor(i,e,t="imperative",r=null){super(i,e),this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ge=class extends Me{urlAfterRedirects;type=se.NavigationEnd;constructor(i,e,t){super(i,e),this.urlAfterRedirects=t}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ce=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ce||{}),ki=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ki||{}),qe=class extends Me{reason;code;type=se.NavigationCancel;constructor(i,e,t,r){super(i,e),this.reason=t,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lt=class extends Me{reason;code;type=se.NavigationSkipped;constructor(i,e,t,r){super(i,e),this.reason=t,this.code=r}},Wt=class extends Me{error;target;type=se.NavigationError;constructor(i,e,t,r){super(i,e),this.error=t,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tn=class extends Me{urlAfterRedirects;state;type=se.RoutesRecognized;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ii=class extends Me{urlAfterRedirects;state;type=se.GuardsCheckStart;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oi=class extends Me{urlAfterRedirects;state;shouldActivate;type=se.GuardsCheckEnd;constructor(i,e,t,r,o){super(i,e),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ri=class extends Me{urlAfterRedirects;state;type=se.ResolveStart;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mi=class extends Me{urlAfterRedirects;state;type=se.ResolveEnd;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pi=class{route;type=se.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Di=class{route;type=se.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ti=class{snapshot;type=se.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ei=class{snapshot;type=se.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ai=class{snapshot;type=se.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ji=class{snapshot;type=se.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ht=class{},It=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function bs(n,i){return n.providers&&!n._injector&&(n._injector=jr(n.providers,i,`Route: ${n.path}`)),n._injector??i}function Te(n){return n.outlet||D}function _s(n,i){let e=n.filter(t=>Te(t)===i);return e.push(...n.filter(t=>Te(t)!==i)),e}function Zt(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let i=n.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Li=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Zt(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new Nn(this.rootInjector)}},Nn=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,t){let r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Li(this.rootInjector),this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(t){return new(t||n)(G(sn))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),En=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=Ui(i,this._root);return e?e.children.map(t=>t.value):[]}firstChild(i){let e=Ui(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=$i(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return $i(i,this._root).map(e=>e.value)}};function Ui(n,i){if(n===i.value)return i;for(let e of i.children){let t=Ui(n,e);if(t)return t}return null}function $i(n,i){if(n===i.value)return[i];for(let e of i.children){let t=$i(n,e);if(t.length)return t.unshift(i),t}return[]}var we=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ct(n){let i={};return n&&n.children.forEach(e=>i[e.value.outlet]=e),i}var An=class extends En{snapshot;constructor(i,e){super(i),this.snapshot=e,Gi(this,i)}toString(){return this.snapshot.toString()}};function To(n){let i=xs(n),e=new he([new at("",{})]),t=new he({}),r=new he({}),o=new he({}),a=new he(""),s=new Y(e,t,o,a,r,D,n,i.root);return s.snapshot=i.root,new An(new we(s,[]),i)}function xs(n){let i={},e={},t={},r="",o=new _t([],i,t,r,e,D,n,null,{});return new Ln("",new we(o,[]))}var Y=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,t,r,o,a,s,c){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(R(l=>l[Gt]))??w(void 0),this.url=i,this.params=e,this.queryParams=t,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(i=>kt(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(i=>kt(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jn(n,i,e="emptyOnly"){let t,{routeConfig:r}=n;return i!==null&&(e==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?t={params:C(C({},i.params),n.params),data:C(C({},i.data),n.data),resolve:C(C(C(C({},n.data),i.data),r?.data),n._resolvedData)}:t={params:C({},n.params),data:C({},n.data),resolve:C(C({},n.data),n._resolvedData??{})},r&&Ao(r)&&(t.resolve[Gt]=r.title),t}var _t=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Gt]}constructor(i,e,t,r,o,a,s,c,l){this.url=i,this.params=e,this.queryParams=t,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kt(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},Ln=class extends En{url;constructor(i,e){super(e),this.url=i,Gi(this,e)}toString(){return Eo(this._root)}};function Gi(n,i){i.value._routerState=n,i.children.forEach(e=>Gi(n,e))}function Eo(n){let i=n.children.length>0?` { ${n.children.map(Eo).join(", ")} } `:"";return`${n.value}${i}`}function yi(n){if(n.snapshot){let i=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ue(i.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ue(i.params,e.params)||n.paramsSubject.next(e.params),Xa(i.url,e.url)||n.urlSubject.next(e.url),Ue(i.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ni(n,i){let e=Ue(n.params,i.params)&&ts(n.url,i.url),t=!n.parent!=!i.parent;return e&&!t&&(!n.parent||Ni(n.parent,i.parent))}function Ao(n){return typeof n.title=="string"||n.title===null}var ks=new pe(""),Ee=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=D;activateEvents=new De;deactivateEvents=new De;attachEvents=new De;detachEvents=new De;routerOutletData=Dr(void 0);parentContexts=v(Nn);location=v(Er);changeDetector=v(fn);inputBinder=v(Zi,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:r}=e.name;if(t)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Fi(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=un({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[cn]})}return n})(),Fi=class n{route;childContexts;parent;outletData;__ngOutletInjector(i){return new n(this.route,this.childContexts,i,this.outletData)}constructor(i,e,t,r){this.route=i,this.childContexts=e,this.parent=t,this.outletData=r}get(i,e){return i===Y?this.route:i===Nn?this.childContexts:i===ks?this.outletData:this.parent.get(i,e)}},Zi=new pe("");function Is(n,i,e){let t=Vt(n,i._root,e?e._root:void 0);return new An(t,i)}function Vt(n,i,e){if(e&&n.shouldReuseRoute(i.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=i.value;let r=Os(n,i,e);return new we(t,r)}else{if(n.shouldAttach(i.value)){let o=n.retrieve(i.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=i.value,a.children=i.children.map(s=>Vt(n,s)),a}}let t=Rs(i.value),r=i.children.map(o=>Vt(n,o));return new we(t,r)}}function Os(n,i,e){return i.children.map(t=>{for(let r of e.children)if(n.shouldReuseRoute(t.value,r.value.snapshot))return Vt(n,t,r);return Vt(n,t)})}function Rs(n){return new Y(new he(n.url),new he(n.params),new he(n.queryParams),new he(n.fragment),new he(n.data),n.outlet,n.component,n)}var Bt=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},jo="ngNavigationCancelingError";function Un(n,i){let{redirectTo:e,navigationBehaviorOptions:t}=ct(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=Lo(!1,Ce.Redirect);return r.url=e,r.navigationBehaviorOptions=t,r}function Lo(n,i){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[jo]=!0,e.cancellationCode=i,e}function Ms(n){return Uo(n)&&ct(n.url)}function Uo(n){return!!n&&n[jo]}var Ps=(n,i,e,t)=>R(r=>(new zi(i,r.targetRouterState,r.currentRouterState,e,t).activate(n),r)),zi=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,t,r,o){this.routeReuseStrategy=i,this.futureState=e,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=o}activate(i){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,i),yi(this.futureState.root),this.activateChildRoutes(e,t,i)}deactivateChildRoutes(i,e,t){let r=Ct(e);i.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],t),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,t)})}deactivateRoutes(i,e,t){let r=i.value,o=e?e.value:null;if(r===o)if(r.component){let a=t.getContext(r.outlet);a&&this.deactivateChildRoutes(i,e,a.children)}else this.deactivateChildRoutes(i,e,t);else o&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let t=e.getContext(i.value.outlet),r=t&&i.value.component?t.children:e,o=Ct(i);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(t&&t.outlet){let a=t.outlet.detach(),s=t.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:s})}}deactivateRouteAndOutlet(i,e){let t=e.getContext(i.value.outlet),r=t&&i.value.component?t.children:e,o=Ct(i);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(i,e,t){let r=Ct(e);i.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],t),this.forwardEvent(new ji(o.value.snapshot))}),i.children.length&&this.forwardEvent(new Ei(i.value.snapshot))}activateRoutes(i,e,t){let r=i.value,o=e?e.value:null;if(yi(r),r===o)if(r.component){let a=t.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,a.children)}else this.activateChildRoutes(i,e,t);else if(r.component){let a=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),yi(s.route.value),this.activateChildRoutes(i,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(i,null,a.children)}else this.activateChildRoutes(i,null,t)}},$n=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},xt=class{component;route;constructor(i,e){this.component=i,this.route=e}};function Ds(n,i,e){let t=n._root,r=i?i._root:null;return Lt(t,r,e,[t.value])}function Ts(n){let i=n.routeConfig?n.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:n,guards:i}}function Rt(n,i){let e=Symbol(),t=i.get(n,e);return t===e?typeof n=="function"&&!kr(n)?n:i.get(n):t}function Lt(n,i,e,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ct(i);return n.children.forEach(a=>{Es(a,o[a.value.outlet],e,t.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>$t(s,e.getContext(a),r)),r}function Es(n,i,e,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=i?i.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=As(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new $n(t)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Lt(n,i,s?s.children:null,t,r):Lt(n,i,e,t,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new xt(s.outlet.component,a))}else a&&$t(i,s,r),r.canActivateChecks.push(new $n(t)),o.component?Lt(n,null,s?s.children:null,t,r):Lt(n,null,e,t,r);return r}function As(n,i,e){if(typeof e=="function")return e(n,i);switch(e){case"pathParamsChange":return!st(n.url,i.url);case"pathParamsOrQueryParamsChange":return!st(n.url,i.url)||!Ue(n.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ni(n,i)||!Ue(n.queryParams,i.queryParams);case"paramsChange":default:return!Ni(n,i)}}function $t(n,i,e){let t=Ct(n),r=n.value;Object.entries(t).forEach(([o,a])=>{r.component?i?$t(a,i.children.getContext(o),e):$t(a,null,e):$t(a,i,e)}),r.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new xt(i.outlet.component,r)):e.canDeactivateChecks.push(new xt(null,r)):e.canDeactivateChecks.push(new xt(null,r))}function Yt(n){return typeof n=="function"}function js(n){return typeof n=="boolean"}function Ls(n){return n&&Yt(n.canLoad)}function Us(n){return n&&Yt(n.canActivate)}function $s(n){return n&&Yt(n.canActivateChild)}function Ns(n){return n&&Yt(n.canDeactivate)}function Fs(n){return n&&Yt(n.canMatch)}function $o(n){return n instanceof fr||n?.name==="EmptyError"}var kn=Symbol("INITIAL_VALUE");function Ot(){return L(n=>ti(n.map(i=>i.pipe(Je(1),_r(kn)))).pipe(R(i=>{for(let e of i)if(e!==!0){if(e===kn)return kn;if(e===!1||zs(e))return e}return!0}),Ae(i=>i!==kn),Je(1)))}function zs(n){return ct(n)||n instanceof Bt}function Ws(n,i){return ce(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?w(Z(C({},e),{guardsResult:!0})):Hs(a,t,r,n).pipe(ce(s=>s&&js(s)?Vs(t,o,n,i):w(s)),R(s=>Z(C({},e),{guardsResult:s})))})}function Hs(n,i,e,t){return oe(n).pipe(ce(r=>Zs(r.component,r.route,e,i,t)),ae(r=>r!==!0,!0))}function Vs(n,i,e,t){return oe(i).pipe(ye(r=>gr(qs(r.route.parent,t),Bs(r.route,t),Gs(n,r.path,e),Ks(n,r.route,e))),ae(r=>r!==!0,!0))}function Bs(n,i){return n!==null&&i&&i(new Ai(n)),w(!0)}function qs(n,i){return n!==null&&i&&i(new Ti(n)),w(!0)}function Ks(n,i,e){let t=i.routeConfig?i.routeConfig.canActivate:null;if(!t||t.length===0)return w(!0);let r=t.map(o=>it(()=>{let a=Zt(i)??e,s=Rt(o,a),c=Us(s)?s.canActivate(i,n):He(a,()=>s(i,n));return tt(c).pipe(ae())}));return w(r).pipe(Ot())}function Gs(n,i,e){let t=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(a=>Ts(a)).filter(a=>a!==null).map(a=>it(()=>{let s=a.guards.map(c=>{let l=Zt(a.node)??e,u=Rt(c,l),m=$s(u)?u.canActivateChild(t,n):He(l,()=>u(t,n));return tt(m).pipe(ae())});return w(s).pipe(Ot())}));return w(o).pipe(Ot())}function Zs(n,i,e,t,r){let o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!o||o.length===0)return w(!0);let a=o.map(s=>{let c=Zt(i)??r,l=Rt(s,c),u=Ns(l)?l.canDeactivate(n,i,e,t):He(c,()=>l(n,i,e,t));return tt(u).pipe(ae())});return w(a).pipe(Ot())}function Ys(n,i,e,t){let r=i.canLoad;if(r===void 0||r.length===0)return w(!0);let o=r.map(a=>{let s=Rt(a,n),c=Ls(s)?s.canLoad(i,e):He(n,()=>s(i,e));return tt(c)});return w(o).pipe(Ot(),No(t))}function No(n){return pr(E(i=>{if(typeof i!="boolean")throw Un(n,i)}),R(i=>i===!0))}function Xs(n,i,e,t){let r=i.canMatch;if(!r||r.length===0)return w(!0);let o=r.map(a=>{let s=Rt(a,n),c=Fs(s)?s.canMatch(i,e):He(n,()=>s(i,e));return tt(c)});return w(o).pipe(Ot(),No(t))}var qt=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},Kt=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function wt(n){return be(new qt(n))}function Js(n){return be(new ne(4e3,!1))}function Qs(n){return be(Lo(!1,Ce.GuardRejected))}var Wi=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let t=[],r=e.root;for(;;){if(t=t.concat(r.segments),r.numberOfChildren===0)return w(t);if(r.numberOfChildren>1||!r.children[D])return Js(`${i.redirectTo}`);r=r.children[D]}}applyRedirectCommands(i,e,t,r,o){if(typeof e!="string"){let s=e,{queryParams:c,fragment:l,routeConfig:u,url:m,outlet:g,params:S,data:y,title:O}=r,k=He(o,()=>s({params:S,data:y,queryParams:c,fragment:l,routeConfig:u,url:m,outlet:g,title:O}));if(k instanceof Ke)throw new Kt(k);e=k}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,t);if(e[0]==="/")throw new Kt(a);return a}applyRedirectCreateUrlTree(i,e,t,r){let o=this.createSegmentGroup(i,e.root,t,r);return new Ke(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let t={};return Object.entries(i).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);t[r]=e[s]}else t[r]=o}),t}createSegmentGroup(i,e,t,r){let o=this.createSegments(i,e.segments,t,r),a={};return Object.entries(e.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(i,c,t,r)}),new V(o,a)}createSegments(i,e,t,r){return e.map(o=>o.path[0]===":"?this.findPosParam(i,o,r):this.findOrReturn(o,t))}findPosParam(i,e,t){let r=t[e.path.substring(1)];if(!r)throw new ne(4001,!1);return r}findOrReturn(i,e){let t=0;for(let r of e){if(r.path===i.path)return e.splice(t),r;t++}return i}},Hi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ec(n,i,e,t,r){let o=Fo(n,i,e);return o.matched?(t=bs(i,t),Xs(t,i,e,r).pipe(R(a=>a===!0?o:C({},Hi)))):w(o)}function Fo(n,i,e){if(i.path==="**")return tc(e);if(i.path==="")return i.pathMatch==="full"&&(n.hasChildren()||e.length>0)?C({},Hi):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(i.matcher||Ya)(e,n,i);if(!r)return C({},Hi);let o={};Object.entries(r.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=r.consumed.length>0?C(C({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function tc(n){return{matched:!0,parameters:n.length>0?So(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fo(n,i,e,t){return e.length>0&&rc(n,e,t)?{segmentGroup:new V(i,ic(t,new V(e,n.children))),slicedSegments:[]}:e.length===0&&oc(n,e,t)?{segmentGroup:new V(n.segments,nc(n,e,t,n.children)),slicedSegments:e}:{segmentGroup:new V(n.segments,n.children),slicedSegments:e}}function nc(n,i,e,t){let r={};for(let o of e)if(Fn(n,i,o)&&!t[Te(o)]){let a=new V([],{});r[Te(o)]=a}return C(C({},t),r)}function ic(n,i){let e={};e[D]=i;for(let t of n)if(t.path===""&&Te(t)!==D){let r=new V([],{});e[Te(t)]=r}return e}function rc(n,i,e){return e.some(t=>Fn(n,i,t)&&Te(t)!==D)}function oc(n,i,e){return e.some(t=>Fn(n,i,t))}function Fn(n,i,e){return(n.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ac(n,i,e){return i.length===0&&!n.children[e]}var Vi=class{};function sc(n,i,e,t,r,o,a="emptyOnly"){return new Bi(n,i,e,t,r,a,o).recognize()}var cc=31,Bi=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,t,r,o,a,s){this.injector=i,this.configLoader=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Wi(this.urlSerializer,this.urlTree)}noMatchError(i){return new ne(4002,`'${i.segmentGroup}'`)}recognize(){let i=fo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(R(({children:e,rootSnapshot:t})=>{let r=new we(t,e),o=new Ln("",r),a=fs(t,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(i){let e=new _t([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),D,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,D,e).pipe(R(t=>({children:t,rootSnapshot:e})),B(t=>{if(t instanceof Kt)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof qt?this.noMatchError(t):t}))}processSegmentGroup(i,e,t,r,o){return t.segments.length===0&&t.hasChildren()?this.processChildren(i,e,t,o):this.processSegment(i,e,t,t.segments,r,!0,o).pipe(R(a=>a instanceof we?[a]:[]))}processChildren(i,e,t,r){let o=[];for(let a of Object.keys(t.children))a==="primary"?o.unshift(a):o.push(a);return oe(o).pipe(ye(a=>{let s=t.children[a],c=_s(e,a);return this.processSegmentGroup(i,c,s,a,r)}),rn((a,s)=>(a.push(...s),a)),oi(null),wr(),ce(a=>{if(a===null)return wt(t);let s=zo(a);return lc(s),w(s)}))}processSegment(i,e,t,r,o,a,s){return oe(e).pipe(ye(c=>this.processSegmentAgainstRoute(c._injector??i,e,c,t,r,o,a,s).pipe(B(l=>{if(l instanceof qt)return w(null);throw l}))),ae(c=>!!c),B(c=>{if($o(c))return ac(t,r,o)?w(new Vi):wt(t);throw c}))}processSegmentAgainstRoute(i,e,t,r,o,a,s,c){return Te(t)!==a&&(a===D||!Fn(r,o,t))?wt(r):t.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,t,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(i,r,e,t,o,a,c):wt(r)}expandSegmentAgainstRouteUsingRedirect(i,e,t,r,o,a,s){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:m,remainingSegments:g}=Fo(e,r,o);if(!c)return wt(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cc&&(this.allowRedirects=!1));let S=new _t(o,l,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,go(r),Te(r),r.component??r._loadedComponent??null,r,vo(r)),y=jn(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(y.params),S.data=Object.freeze(y.data);let O=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,m,S,i);return this.applyRedirects.lineralizeSegments(r,O).pipe(ce(k=>this.processSegment(i,t,e,k.concat(g),a,!1,s)))}matchSegmentAgainstRoute(i,e,t,r,o,a){let s=ec(e,t,r,i,this.urlSerializer);return t.path==="**"&&(e.children={}),s.pipe(L(c=>c.matched?(i=t._injector??i,this.getChildConfig(i,t,r).pipe(L(({routes:l})=>{let u=t._loadedInjector??i,{parameters:m,consumedSegments:g,remainingSegments:S}=c,y=new _t(g,m,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,go(t),Te(t),t.component??t._loadedComponent??null,t,vo(t)),O=jn(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(O.params),y.data=Object.freeze(O.data);let{segmentGroup:k,slicedSegments:z}=fo(e,g,S,l);if(z.length===0&&k.hasChildren())return this.processChildren(u,l,k,y).pipe(R($=>new we(y,$)));if(l.length===0&&z.length===0)return w(new we(y,[]));let q=Te(t)===o;return this.processSegment(u,l,k,z,q?D:o,!0,y).pipe(R($=>new we(y,$ instanceof we?[$]:[])))}))):wt(e)))}getChildConfig(i,e,t){return e.children?w({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?w({routes:e._loadedRoutes,injector:e._loadedInjector}):Ys(i,e,t,this.urlSerializer).pipe(ce(r=>r?this.configLoader.loadChildren(i,e).pipe(E(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Qs(e))):w({routes:[],injector:i})}};function lc(n){n.sort((i,e)=>i.value.outlet===D?-1:e.value.outlet===D?1:i.value.outlet.localeCompare(e.value.outlet))}function uc(n){let i=n.value.routeConfig;return i&&i.path===""}function zo(n){let i=[],e=new Set;for(let t of n){if(!uc(t)){i.push(t);continue}let r=i.find(o=>t.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...t.children),e.add(r)):i.push(t)}for(let t of e){let r=zo(t.children);i.push(new we(t.value,r))}return i.filter(t=>!e.has(t))}function go(n){return n.data||{}}function vo(n){return n.resolve||{}}function dc(n,i,e,t,r,o){return ce(a=>sc(n,i,e,t,a.extractedUrl,r,o).pipe(R(({state:s,tree:c})=>Z(C({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function hc(n,i){return ce(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return w(e);let o=new Set(r.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let l of Wo(c))a.add(l);let s=0;return oe(a).pipe(ye(c=>o.has(c)?pc(c,t,n,i):(c.data=jn(c,c.parent,n).resolve,w(void 0))),E(()=>s++),ai(1),ce(c=>s===a.size?w(e):K))})}function Wo(n){let i=n.children.map(e=>Wo(e)).flat();return[n,...i]}function pc(n,i,e,t){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Ao(r)&&(o[Gt]=r.title),mc(o,n,i,t).pipe(R(a=>(n._resolvedData=a,n.data=jn(n,n.parent,e).resolve,null)))}function mc(n,i,e,t){let r=Ci(n);if(r.length===0)return w({});let o={};return oe(r).pipe(ce(a=>fc(n[a],i,e,t).pipe(ae(),E(s=>{if(s instanceof Bt)throw Un(new Nt,s);o[a]=s}))),ai(1),R(()=>o),B(a=>$o(a)?K:be(a)))}function fc(n,i,e,t){let r=Zt(i)??t,o=Rt(n,r),a=o.resolve?o.resolve(i,e):He(r,()=>o(i,e));return tt(a)}function Si(n){return L(i=>{let e=n(i);return e?oe(e).pipe(R(()=>i)):w(i)})}var Ho=(()=>{class n{buildTitle(e){let t,r=e.root;for(;r!==void 0;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(o=>o.outlet===D);return t}getResolvedTitleForRoute(e){return e.data[Gt]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:()=>v(gc),providedIn:"root"})}return n})(),gc=(()=>{class n extends Ho{title;constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static \u0275fac=function(t){return new(t||n)(G(Kr))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yi=new pe("",{providedIn:"root",factory:()=>({})}),vc=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(t,r){t&1&&_(0,"router-outlet")},dependencies:[Ee],encapsulation:2})}return n})();function Xi(n){let i=n.children&&n.children.map(Xi),e=i?Z(C({},n),{children:i}):C({},n);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==D&&(e.component=vc),e}var Ji=new pe(""),yc=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(di);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return w(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let t=tt(e.loadComponent()).pipe(R(Vo),E(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Qe(()=>{this.componentLoaders.delete(e)})),r=new ei(t,()=>new ue).pipe(Qn());return this.componentLoaders.set(e,r),r}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return w({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let o=Sc(t,this.compiler,e,this.onLoadEndListener).pipe(Qe(()=>{this.childrenLoaders.delete(t)})),a=new ei(o,()=>new ue).pipe(Qn());return this.childrenLoaders.set(t,a),a}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sc(n,i,e,t){return tt(n.loadChildren()).pipe(R(Vo),ce(r=>r instanceof Ar||Array.isArray(r)?w(r):oe(i.compileModuleAsync(r))),R(r=>{t&&t(n);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(Ji,[],{optional:!0,self:!0}).flat()),{routes:a.map(Xi),injector:o}}))}function wc(n){return n&&typeof n=="object"&&"default"in n}function Vo(n){return wc(n)?n.default:n}var Qi=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:()=>v(Cc),providedIn:"root"})}return n})(),Cc=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bc=new pe("");var _c=new pe(""),xc=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ue;transitionAbortSubject=new ue;configLoader=v(yc);environmentInjector=v(sn);destroyRef=v(At);urlSerializer=v(Ki);rootContexts=v(Nn);location=v(gt);inputBindingEnabled=v(Zi,{optional:!0})!==null;titleStrategy=v(Ho);options=v(Yi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(Qi);createViewTransition=v(bc,{optional:!0});navigationErrorHandler=v(_c,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>w(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Pi(r)),t=r=>this.events.next(new Di(r));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;this.transitions?.next(Z(C({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:t}))}setupNavigations(e){return this.transitions=new he(null),this.transitions.pipe(Ae(t=>t!==null),L(t=>{let r=!1,o=!1;return w(t).pipe(L(a=>{if(this.navigationId>t.id)return this.cancelNavigationTransition(t,"",Ce.SupersededByNewNavigation),K;this.currentTransition=t,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Z(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&c!=="reload"){let l="";return this.events.next(new lt(a.id,this.urlSerializer.serialize(a.rawUrl),l,ki.IgnoredSameUrlNavigation)),a.resolve(!1),K}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return w(a).pipe(L(l=>(this.events.next(new zt(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?K:Promise.resolve(l))),dc(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),E(l=>{t.targetSnapshot=l.targetSnapshot,t.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Z(C({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Tn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:l,extractedUrl:u,source:m,restoredState:g,extras:S}=a,y=new zt(l,this.urlSerializer.serialize(u),m,g);this.events.next(y);let O=To(this.rootComponentType).snapshot;return this.currentTransition=t=Z(C({},a),{targetSnapshot:O,urlAfterRedirects:u,extras:Z(C({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,w(t)}else{let l="";return this.events.next(new lt(a.id,this.urlSerializer.serialize(a.extractedUrl),l,ki.IgnoredByUrlHandlingStrategy)),a.resolve(!1),K}}),E(a=>{let s=new Ii(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),R(a=>(this.currentTransition=t=Z(C({},a),{guards:Ds(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),t)),Ws(this.environmentInjector,a=>this.events.next(a)),E(a=>{if(t.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Un(this.urlSerializer,a.guardsResult);let s=new Oi(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),Ae(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Ce.GuardRejected),!1)),Si(a=>{if(a.guards.canActivateChecks.length!==0)return w(a).pipe(E(s=>{let c=new Ri(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),L(s=>{let c=!1;return w(s).pipe(hc(this.paramsInheritanceStrategy,this.environmentInjector),E({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",Ce.NoDataFromResolver)}}))}),E(s=>{let c=new Mi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),Si(a=>{let s=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(E(u=>{c.component=u}),R(()=>{})));for(let u of c.children)l.push(...s(u));return l};return ti(s(a.targetSnapshot.root)).pipe(oi(null),Je(1))}),Si(()=>this.afterPreactivation()),L(()=>{let{currentSnapshot:a,targetSnapshot:s}=t,c=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return c?oe(c).pipe(R(()=>t)):w(t)}),R(a=>{let s=Is(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=t=Z(C({},a),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,t}),E(()=>{this.events.next(new Ht)}),Ps(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Je(1),E({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ge(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),an(this.transitionAbortSubject.pipe(E(a=>{throw a}))),Qe(()=>{!r&&!o&&this.cancelNavigationTransition(t,"",Ce.SupersededByNewNavigation),this.currentTransition?.id===t.id&&(this.currentNavigation=null,this.currentTransition=null)}),B(a=>{if(this.destroyed)return t.resolve(!1),K;if(o=!0,Uo(a))this.events.next(new qe(t.id,this.urlSerializer.serialize(t.extractedUrl),a.message,a.cancellationCode)),Ms(a)?this.events.next(new It(a.url,a.navigationBehaviorOptions)):t.resolve(!1);else{let s=new Wt(t.id,this.urlSerializer.serialize(t.extractedUrl),a,t.targetSnapshot??void 0);try{let c=He(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Bt){let{message:l,cancellationCode:u}=Un(this.urlSerializer,c);this.events.next(new qe(t.id,this.urlSerializer.serialize(t.extractedUrl),l,u)),this.events.next(new It(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(c){this.options.resolveNavigationPromiseOnError?t.resolve(!1):t.reject(c)}}return K}))}))}cancelNavigationTransition(e,t,r){let o=new qe(e.id,this.urlSerializer.serialize(e.extractedUrl),t,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==t?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kc(n){return n!==Mn}var Ic=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:()=>v(Oc),providedIn:"root"})}return n})(),qi=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},Oc=(()=>{class n extends qi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ci(n)))(r||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bo=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:()=>v(Rc),providedIn:"root"})}return n})(),Rc=(()=>{class n extends Bo{location=v(gt);urlSerializer=v(Ki);options=v(Yi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=v(Qi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ke;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=To(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&e(t.url,t.state)})}handleRouterEvent(e,t){if(e instanceof zt)this.stateMemento=this.createStateMemento();else if(e instanceof lt)this.rawUrlTree=t.initialUrl;else if(e instanceof Tn){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(t.targetBrowserUrl??r,t)}}else e instanceof Ht?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(t.targetBrowserUrl??this.rawUrlTree,t)):e instanceof qe&&(e.code===Ce.GuardRejected||e.code===Ce.NoDataFromResolver)?this.restoreHistory(t):e instanceof Wt?this.restoreHistory(t,!0):e instanceof Ge&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){let r=e instanceof Ke?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||t.extras.replaceUrl){let o=this.browserPageId,a=C(C({},t.extras.state),this.generateNgRouterState(t.id,o));this.location.replaceState(r,"",a)}else{let o=C(C({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ci(n)))(r||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mc(n,i){n.events.pipe(Ae(e=>e instanceof Ge||e instanceof qe||e instanceof Wt||e instanceof lt),R(e=>e instanceof Ge||e instanceof lt?0:(e instanceof qe?e.code===Ce.Redirect||e.code===Ce.SupersededByNewNavigation:!1)?2:1),Ae(e=>e!==2),Je(1)).subscribe(()=>{i()})}var Pc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(Lr);stateManager=v(Bo);options=v(Yi,{optional:!0})||{};pendingTasks=v(Pr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(xc);urlSerializer=v(Ki);location=v(gt);urlHandlingStrategy=v(Qi);_events=new ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(Ic);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(Ji,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(Zi,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new hr;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(t,o),t instanceof qe&&t.code!==Ce.Redirect&&t.code!==Ce.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof Ge)this.navigated=!0;else if(t instanceof It){let a=t.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(t.url,r.currentRawUrl),c=C({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kc(r.source)},a);this.scheduleNavigation(s,Mn,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Ec(t)&&this._events.next(t)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",t)},0)})}navigateToSyncWithBrowser(e,t,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let c=C({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,t,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Xi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=t,l=c?this.currentUrlTree.fragment:a,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let m;try{let g=r?r.snapshot:this.routerState.snapshot.root;m=Ro(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return Mo(m,e,u,l??null)}navigateByUrl(e,t={skipLocationChange:!1}){let r=ct(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Mn,null,t)}navigate(e,t={skipLocationChange:!1}){return Tc(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,t){let r;if(t===!0?r=C({},Pc):t===!1?r=C({},Dc):r=t,ct(e))return uo(this.currentUrlTree,e,r);let o=this.parseUrl(e);return uo(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((t,[r,o])=>(o!=null&&(t[r]=o),t),{})}scheduleNavigation(e,t,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((m,g)=>{s=m,c=g});let u=this.pendingTasks.add();return Mc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(m=>Promise.reject(m))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tc(n){for(let i=0;i<n.length;i++)if(n[i]==null)throw new ne(4008,!1)}function Ec(n){return!(n instanceof Ht)&&!(n instanceof It)}var de=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ue;constructor(e,t,r,o,a,s){this.router=e,this.route=t,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof Ge&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ct(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,t,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||t||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let t=this.href===null?null:Tr(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(e,t){let r=this.renderer,o=this.el.nativeElement;t!==null?r.setAttribute(o,e,t):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ct(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(t){return new(t||n)(Se(fe),Se(Y),Mr("tabindex"),Se(ui),Se(li),Se(pi))};static \u0275dir=un({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){t&1&&H("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),t&2&&dn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gn],replaceUrl:[2,"replaceUrl","replaceUrl",gn],routerLink:"routerLink"},features:[cn]})}return n})(),Mt=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new De;constructor(e,t,r,o,a){this.router=e,this.element=t,this.renderer=r,this.cdr=o,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof Ge&&this.update()})}ngAfterContentInit(){w(this.links.changes,w(null)).pipe(ni()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=oe(e).pipe(ni()).subscribe(t=>{this._isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(e){let t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let t=Ac(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,t):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(t){return new(t||n)(Se(fe),Se(li),Se(ui),Se(fn),Se(de,8))};static \u0275dir=un({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(t&1&&Fr(o,de,5),t&2){let a;pn(a=mn())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[cn]})}return n})();function Ac(n){return!!n.paths}var jc=new pe("");function qo(n,...i){return Ir([{provide:Ji,multi:!0,useValue:n},[],{provide:Y,useFactory:Lc,deps:[fe]},{provide:$r,multi:!0,useFactory:Uc},i.map(e=>e.\u0275providers)])}function Lc(n){return n.routerState.root}function Uc(){let n=v(Et);return i=>{let e=n.get(Nr);if(i!==e.components[0])return;let t=n.get(fe),r=n.get($c);n.get(Nc)===1&&t.initialNavigation(),n.get(Fc,null,si.Optional)?.setUpPreloading(),n.get(jc,null,si.Optional)?.init(),t.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var $c=new pe("",{factory:()=>new ue}),Nc=new pe("",{providedIn:"root",factory:()=>1});var Fc=new pe("");function A(n,i){let e=!i?.manualCleanup;e&&!i?.injector&&Or(A);let t=e?i?.injector?.get(At)??v(At):null,r=zc(i?.equal),o;i?.requireSync?o=j({kind:0},{equal:r}):o=j({kind:1,value:i?.initialValue},{equal:r});let a=n.subscribe({next:s=>o.set({kind:1,value:s}),error:s=>{if(i?.rejectErrors)throw s;o.set({kind:2,error:s})}});if(i?.requireSync&&o().kind===0)throw new ne(601,!1);return t?.onDestroy(a.unsubscribe.bind(a)),Hr(()=>{let s=o();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new ne(601,!1)}},{equal:i?.equal})}function zc(n=Object.is){return(i,e)=>i.kind===1&&e.kind===1&&n(i.value,e.value)}function $e(n,i){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(t=Object.getOwnPropertySymbols(n);r<t.length;r++)i.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(e[t[r]]=n[t[r]])}return e}var dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function lr(n,i){return n(i={exports:{}},i.exports),i.exports}var ut=lr(function(n,i){Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function t(){var r=this;this.locked=new Map,this.addToLocked=function(o,a){var s=r.locked.get(o);s===void 0?a===void 0?r.locked.set(o,[]):r.locked.set(o,[a]):a!==void 0&&(s.unshift(a),r.locked.set(o,s))},this.isLocked=function(o){return r.locked.has(o)},this.lock=function(o){return new Promise(function(a,s){r.isLocked(o)?r.addToLocked(o,a):(r.addToLocked(o),a())})},this.unlock=function(o){var a=r.locked.get(o);if(a!==void 0&&a.length!==0){var s=a.pop();r.locked.set(o,a),s!==void 0&&setTimeout(s,0)}else r.locked.delete(o)}}return t.getInstance=function(){return t.instance===void 0&&(t.instance=new t),t.instance},t}();i.default=function(){return e.getInstance()}});cr(ut);var Wc=cr(lr(function(n,i){var e=dt&&dt.__awaiter||function(u,m,g,S){return new(g||(g=Promise))(function(y,O){function k($){try{q(S.next($))}catch(I){O(I)}}function z($){try{q(S.throw($))}catch(I){O(I)}}function q($){$.done?y($.value):new g(function(I){I($.value)}).then(k,z)}q((S=S.apply(u,m||[])).next())})},t=dt&&dt.__generator||function(u,m){var g,S,y,O,k={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return O={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function z(q){return function($){return function(I){if(g)throw new TypeError("Generator is already executing.");for(;k;)try{if(g=1,S&&(y=2&I[0]?S.return:I[0]?S.throw||((y=S.return)&&y.call(S),0):S.next)&&!(y=y.call(S,I[1])).done)return y;switch(S=0,y&&(I=[2&I[0],y.value]),I[0]){case 0:case 1:y=I;break;case 4:return k.label++,{value:I[1],done:!1};case 5:k.label++,S=I[1],I=[0];continue;case 7:I=k.ops.pop(),k.trys.pop();continue;default:if(y=k.trys,!((y=y.length>0&&y[y.length-1])||I[0]!==6&&I[0]!==2)){k=0;continue}if(I[0]===3&&(!y||I[1]>y[0]&&I[1]<y[3])){k.label=I[1];break}if(I[0]===6&&k.label<y[1]){k.label=y[1],y=I;break}if(y&&k.label<y[2]){k.label=y[2],k.ops.push(I);break}y[2]&&k.ops.pop(),k.trys.pop();continue}I=m.call(u,k)}catch(ve){I=[6,ve],S=0}finally{g=y=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([q,$])}}},r=dt;Object.defineProperty(i,"__esModule",{value:!0});var o="browser-tabs-lock-key",a={key:function(u){return e(r,void 0,void 0,function(){return t(this,function(m){throw new Error("Unsupported")})})},getItem:function(u){return e(r,void 0,void 0,function(){return t(this,function(m){throw new Error("Unsupported")})})},clear:function(){return e(r,void 0,void 0,function(){return t(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return e(r,void 0,void 0,function(){return t(this,function(m){throw new Error("Unsupported")})})},setItem:function(u,m){return e(r,void 0,void 0,function(){return t(this,function(g){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,m){return window.localStorage.setItem(u,m)}};function s(u){return new Promise(function(m){return setTimeout(m,u)})}function c(u){for(var m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",g="",S=0;S<u;S++)g+=m[Math.floor(Math.random()*m.length)];return g}var l=function(){function u(m){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=m,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(m,g){return g===void 0&&(g=5e3),e(this,void 0,void 0,function(){var S,y,O,k,z,q,$;return t(this,function(I){switch(I.label){case 0:S=Date.now()+c(4),y=Date.now()+g,O=o+"-"+m,k=this.storageHandler===void 0?a:this.storageHandler,I.label=1;case 1:return Date.now()<y?[4,s(30)]:[3,8];case 2:return I.sent(),k.getItemSync(O)!==null?[3,5]:(z=this.id+"-"+m+"-"+S,[4,s(Math.floor(25*Math.random()))]);case 3:return I.sent(),k.setItemSync(O,JSON.stringify({id:this.id,iat:S,timeoutKey:z,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return I.sent(),(q=k.getItemSync(O))!==null&&($=JSON.parse(q)).id===this.id&&$.iat===S?(this.acquiredIatSet.add(S),this.refreshLockWhileAcquired(O,S),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(y)];case 6:I.sent(),I.label=7;case 7:return S=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(m,g){return e(this,void 0,void 0,function(){var S=this;return t(this,function(y){return setTimeout(function(){return e(S,void 0,void 0,function(){var O,k,z;return t(this,function(q){switch(q.label){case 0:return[4,ut.default().lock(g)];case 1:return q.sent(),this.acquiredIatSet.has(g)?(O=this.storageHandler===void 0?a:this.storageHandler,(k=O.getItemSync(m))===null?(ut.default().unlock(g),[2]):((z=JSON.parse(k)).timeRefreshed=Date.now(),O.setItemSync(m,JSON.stringify(z)),ut.default().unlock(g),this.refreshLockWhileAcquired(m,g),[2])):(ut.default().unlock(g),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(m){return e(this,void 0,void 0,function(){return t(this,function(g){switch(g.label){case 0:return[4,new Promise(function(S){var y=!1,O=Date.now(),k=!1;function z(){if(k||(window.removeEventListener("storage",z),u.removeFromWaiting(z),clearTimeout(q),k=!0),!y){y=!0;var $=50-(Date.now()-O);$>0?setTimeout(S,$):S(null)}}window.addEventListener("storage",z),u.addToWaiting(z);var q=setTimeout(z,Math.max(0,m-Date.now()))})];case 1:return g.sent(),[2]}})})},u.addToWaiting=function(m){this.removeFromWaiting(m),u.waiters!==void 0&&u.waiters.push(m)},u.removeFromWaiting=function(m){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(g){return g!==m}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(m){return m()})},u.prototype.releaseLock=function(m){return e(this,void 0,void 0,function(){return t(this,function(g){switch(g.label){case 0:return[4,this.releaseLock__private__(m)];case 1:return[2,g.sent()]}})})},u.prototype.releaseLock__private__=function(m){return e(this,void 0,void 0,function(){var g,S,y,O;return t(this,function(k){switch(k.label){case 0:return g=this.storageHandler===void 0?a:this.storageHandler,S=o+"-"+m,(y=g.getItemSync(S))===null?[2]:(O=JSON.parse(y)).id!==this.id?[3,2]:[4,ut.default().lock(O.iat)];case 1:k.sent(),this.acquiredIatSet.delete(O.iat),g.removeItemSync(S),ut.default().unlock(O.iat),u.notifyWaiters(),k.label=2;case 2:return[2]}})})},u.lockCorrector=function(m){for(var g=Date.now()-5e3,S=m,y=[],O=0;;){var k=S.keySync(O);if(k===null)break;y.push(k),O++}for(var z=!1,q=0;q<y.length;q++){var $=y[q];if($.includes(o)){var I=S.getItemSync($);if(I!==null){var ve=JSON.parse(I);(ve.timeRefreshed===void 0&&ve.timeAcquired<g||ve.timeRefreshed!==void 0&&ve.timeRefreshed<g)&&(S.removeItemSync($),z=!0)}}}z&&u.notifyWaiters()},u.waiters=void 0,u}();i.default=l})),Hc={timeoutInSeconds:60},ta={name:"auth0-spa-js",version:"2.1.3"},na=()=>Date.now(),le=class n extends Error{constructor(i,e){super(e),this.error=i,this.error_description=e,Object.setPrototypeOf(this,n.prototype)}static fromPayload({error:i,error_description:e}){return new n(i,e)}},Hn=class n extends le{constructor(i,e,t,r=null){super(i,e),this.state=t,this.appState=r,Object.setPrototypeOf(this,n.prototype)}},Dt=class n extends le{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,n.prototype)}},Vn=class n extends Dt{constructor(i){super(),this.popup=i,Object.setPrototypeOf(this,n.prototype)}},Bn=class n extends le{constructor(i){super("cancelled","Popup closed"),this.popup=i,Object.setPrototypeOf(this,n.prototype)}},qn=class n extends le{constructor(i,e,t){super(i,e),this.mfa_token=t,Object.setPrototypeOf(this,n.prototype)}},Jt=class n extends le{constructor(i,e){super("missing_refresh_token",`Missing Refresh Token (audience: '${Ko(i,["default"])}', scope: '${Ko(e)}')`),this.audience=i,this.scope=e,Object.setPrototypeOf(this,n.prototype)}};function Ko(n,i=[]){return n&&!i.includes(n)?n:""}var Wn=()=>window.crypto,er=()=>{let n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",i="";return Array.from(Wn().getRandomValues(new Uint8Array(43))).forEach(e=>i+=n[e%n.length]),i},Go=n=>btoa(n),rr=n=>{var{clientId:i}=n,e=$e(n,["clientId"]);return new URLSearchParams((t=>Object.keys(t).filter(r=>t[r]!==void 0).reduce((r,o)=>Object.assign(Object.assign({},r),{[o]:t[o]}),{}))(Object.assign({client_id:i},e))).toString()},Zo=n=>(i=>decodeURIComponent(atob(i).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),Vc=(n,i)=>T(void 0,null,function*(){let e=yield fetch(n,i);return{ok:e.ok,json:yield e.json()}}),Bc=(n,i,e)=>T(void 0,null,function*(){let t=new AbortController,r;return i.signal=t.signal,Promise.race([Vc(n,i),new Promise((o,a)=>{r=setTimeout(()=>{t.abort(),a(new Error("Timeout when executing 'fetch'"))},e)})]).finally(()=>{clearTimeout(r)})}),qc=(n,i,e,t,r,o,a)=>T(void 0,null,function*(){return s={auth:{audience:i,scope:e},timeout:r,fetchUrl:n,fetchOptions:t,useFormData:a},c=o,new Promise(function(l,u){let m=new MessageChannel;m.port1.onmessage=function(g){g.data.error?u(new Error(g.data.error)):l(g.data),m.port1.close()},c.postMessage(s,[m.port2])});var s,c}),Kc=(n,i,e,t,r,o,a=1e4)=>T(void 0,null,function*(){return r?qc(n,i,e,t,a,r,o):Bc(n,t,a)});function Gc(n,i){return T(this,null,function*(){var{baseUrl:e,timeout:t,audience:r,scope:o,auth0Client:a,useFormData:s}=n,c=$e(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let l=s?rr(c):JSON.stringify(c);return yield function(u,m,g,S,y,O,k){return T(this,null,function*(){let z,q=null;for(let Xe=0;Xe<3;Xe++)try{z=yield Kc(u,g,S,y,O,k,m),q=null;break}catch(qa){q=qa}if(q)throw q;let $=z.json,{error:I,error_description:ve}=$,en=$e($,["error","error_description"]),{ok:We}=z;if(!We){let Xe=ve||`HTTP error. Unable to fetch ${u}`;throw I==="mfa_required"?new qn(I,Xe,en.mfa_token):I==="missing_refresh_token"?new Jt(g,S):new le(I||"request_error",Xe)}return en})}(`${e}/oauth/token`,t,r||"default",o,{method:"POST",body:l,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||ta))}},i,s)})}var zn=(...n)=>{return(i=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(i))).join(" ");var i},Ze=class n{constructor(i,e="@@auth0spajs@@",t){this.prefix=e,this.suffix=t,this.clientId=i.clientId,this.scope=i.scope,this.audience=i.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(i){let[e,t,r,o]=i.split("::");return new n({clientId:t,scope:o,audience:r},e)}static fromCacheEntry(i){let{scope:e,audience:t,client_id:r}=i;return new n({scope:e,audience:t,clientId:r})}},Kn=class{set(i,e){localStorage.setItem(i,JSON.stringify(e))}get(i){let e=window.localStorage.getItem(i);if(e)try{return JSON.parse(e)}catch{return}}remove(i){localStorage.removeItem(i)}allKeys(){return Object.keys(window.localStorage).filter(i=>i.startsWith("@@auth0spajs@@"))}},Qt=class{constructor(){this.enclosedCache=function(){let i={};return{set(e,t){i[e]=t},get(e){let t=i[e];if(t)return t},remove(e){delete i[e]},allKeys:()=>Object.keys(i)}}()}},or=class{constructor(i,e,t){this.cache=i,this.keyManifest=e,this.nowProvider=t||na}setIdToken(i,e,t){return T(this,null,function*(){var r;let o=this.getIdTokenCacheKey(i);yield this.cache.set(o,{id_token:e,decodedToken:t}),yield(r=this.keyManifest)===null||r===void 0?void 0:r.add(o)})}getIdToken(i){return T(this,null,function*(){let e=yield this.cache.get(this.getIdTokenCacheKey(i.clientId));if(!e&&i.scope&&i.audience){let t=yield this.get(i);return!t||!t.id_token||!t.decodedToken?void 0:{id_token:t.id_token,decodedToken:t.decodedToken}}if(e)return{id_token:e.id_token,decodedToken:e.decodedToken}})}get(i,e=0){return T(this,null,function*(){var t;let r=yield this.cache.get(i.toKey());if(!r){let s=yield this.getCacheKeys();if(!s)return;let c=this.matchExistingCacheKey(i,s);c&&(r=yield this.cache.get(c))}if(!r)return;let o=yield this.nowProvider(),a=Math.floor(o/1e3);return r.expiresAt-e<a?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},yield this.cache.set(i.toKey(),r),r.body):(yield this.cache.remove(i.toKey()),void(yield(t=this.keyManifest)===null||t===void 0?void 0:t.remove(i.toKey()))):r.body})}set(i){return T(this,null,function*(){var e;let t=new Ze({clientId:i.client_id,scope:i.scope,audience:i.audience}),r=yield this.wrapCacheEntry(i);yield this.cache.set(t.toKey(),r),yield(e=this.keyManifest)===null||e===void 0?void 0:e.add(t.toKey())})}clear(i){return T(this,null,function*(){var e;let t=yield this.getCacheKeys();t&&(yield t.filter(r=>!i||r.includes(i)).reduce((r,o)=>T(this,null,function*(){yield r,yield this.cache.remove(o)}),Promise.resolve()),yield(e=this.keyManifest)===null||e===void 0?void 0:e.clear())})}wrapCacheEntry(i){return T(this,null,function*(){let e=yield this.nowProvider();return{body:i,expiresAt:Math.floor(e/1e3)+i.expires_in}})}getCacheKeys(){return T(this,null,function*(){var i;return this.keyManifest?(i=yield this.keyManifest.get())===null||i===void 0?void 0:i.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(i){return new Ze({clientId:i},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(i,e){return e.filter(t=>{var r;let o=Ze.fromKey(t),a=new Set(o.scope&&o.scope.split(" ")),s=((r=i.scope)===null||r===void 0?void 0:r.split(" "))||[],c=o.scope&&s.reduce((l,u)=>l&&a.has(u),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===i.clientId&&o.audience===i.audience&&c})[0]}},ar=class{constructor(i,e,t){this.storage=i,this.clientId=e,this.cookieDomain=t,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(i){this.storage.save(this.storageKey,i,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},Xt=n=>typeof n=="number",Zc=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Yc=n=>{if(!n.id_token)throw new Error("ID token is required but missing");let i=(o=>{let a=o.split("."),[s,c,l]=a;if(a.length!==3||!s||!c||!l)throw new Error("ID token could not be decoded");let u=JSON.parse(Zo(c)),m={__raw:o},g={};return Object.keys(u).forEach(S=>{m[S]=u[S],Zc.includes(S)||(g[S]=u[S])}),{encoded:{header:s,payload:c,signature:l},header:JSON.parse(Zo(s)),claims:m,user:g}})(n.id_token);if(!i.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(i.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${i.claims.iss}"`);if(!i.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(i.header.alg!=="RS256")throw new Error(`Signature algorithm of "${i.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!i.claims.aud||typeof i.claims.aud!="string"&&!Array.isArray(i.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(i.claims.aud)){if(!i.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${i.claims.aud.join(", ")}"`);if(i.claims.aud.length>1){if(!i.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(i.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${i.claims.azp}"`)}}else if(i.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${i.claims.aud}"`);if(n.nonce){if(!i.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(i.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${i.claims.nonce}"`)}if(n.max_age&&!Xt(i.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(i.claims.exp==null||!Xt(i.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Xt(i.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let e=n.leeway||60,t=new Date(n.now||Date.now()),r=new Date(0);if(r.setUTCSeconds(i.claims.exp+e),t>r)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${t}) is after expiration time (${r})`);if(i.claims.nbf!=null&&Xt(i.claims.nbf)){let o=new Date(0);if(o.setUTCSeconds(i.claims.nbf-e),t<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${t}) is before ${o}`)}if(i.claims.auth_time!=null&&Xt(i.claims.auth_time)){let o=new Date(0);if(o.setUTCSeconds(parseInt(i.claims.auth_time)+n.max_age+e),t>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${t}) is after last auth at ${o}`)}if(n.organization){let o=n.organization.trim();if(o.startsWith("org_")){let a=o;if(!i.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==i.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${i.claims.org_id}"`)}else{let a=o.toLowerCase();if(!i.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==i.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${i.claims.org_name}"`)}}return i},ht=lr(function(n,i){var e=dt&&dt.__assign||function(){return e=Object.assign||function(c){for(var l,u=1,m=arguments.length;u<m;u++)for(var g in l=arguments[u])Object.prototype.hasOwnProperty.call(l,g)&&(c[g]=l[g]);return c},e.apply(this,arguments)};function t(c,l){if(!l)return"";var u="; "+c;return l===!0?u:u+"="+l}function r(c,l,u){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(l).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(m){if(typeof m.expires=="number"){var g=new Date;g.setMilliseconds(g.getMilliseconds()+864e5*m.expires),m.expires=g}return t("Expires",m.expires?m.expires.toUTCString():"")+t("Domain",m.domain)+t("Path",m.path)+t("Secure",m.secure)+t("SameSite",m.sameSite)}(u)}function o(c){for(var l={},u=c?c.split("; "):[],m=/(%[\dA-F]{2})+/gi,g=0;g<u.length;g++){var S=u[g].split("="),y=S.slice(1).join("=");y.charAt(0)==='"'&&(y=y.slice(1,-1));try{l[S[0].replace(m,decodeURIComponent)]=y.replace(m,decodeURIComponent)}catch{}}return l}function a(){return o(document.cookie)}function s(c,l,u){document.cookie=r(c,l,e({path:"/"},u))}i.__esModule=!0,i.encode=r,i.parse=o,i.getAll=a,i.get=function(c){return a()[c]},i.set=s,i.remove=function(c,l){s(c,"",e(e({},l),{expires:-1}))}});cr(ht),ht.encode,ht.parse,ht.getAll;var Xc=ht.get,ia=ht.set,ra=ht.remove,Pt={get(n){let i=Xc(n);if(i!==void 0)return JSON.parse(i)},save(n,i,e){let t={};window.location.protocol==="https:"&&(t={secure:!0,sameSite:"none"}),e?.daysUntilExpire&&(t.expires=e.daysUntilExpire),e?.cookieDomain&&(t.domain=e.cookieDomain),ia(n,JSON.stringify(i),t)},remove(n,i){let e={};i?.cookieDomain&&(e.domain=i.cookieDomain),ra(n,e)}},Jc={get(n){return Pt.get(n)||Pt.get(`_legacy_${n}`)},save(n,i,e){let t={};window.location.protocol==="https:"&&(t={secure:!0}),e?.daysUntilExpire&&(t.expires=e.daysUntilExpire),e?.cookieDomain&&(t.domain=e.cookieDomain),ia(`_legacy_${n}`,JSON.stringify(i),t),Pt.save(n,i,e)},remove(n,i){let e={};i?.cookieDomain&&(e.domain=i.cookieDomain),ra(n,e),Pt.remove(n,i),Pt.remove(`_legacy_${n}`,i)}},Qc={get(n){if(typeof sessionStorage>"u")return;let i=sessionStorage.getItem(n);return i!=null?JSON.parse(i):void 0},save(n,i){sessionStorage.setItem(n,JSON.stringify(i))},remove(n){sessionStorage.removeItem(n)}};function el(n,i,e){var t=i===void 0?null:i,r=function(c,l){var u=atob(c);if(l){for(var m=new Uint8Array(u.length),g=0,S=u.length;g<S;++g)m[g]=u.charCodeAt(g);return String.fromCharCode.apply(null,new Uint16Array(m.buffer))}return u}(n,e!==void 0&&e),o=r.indexOf(`
`,10)+1,a=r.substring(o)+(t?"//# sourceMappingURL="+t:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}var Yo,Xo,Jo,tr,tl=(Yo="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Xo=null,Jo=!1,function(n){return tr=tr||el(Yo,Xo,Jo),new Worker(tr,n)}),nr={},sr=class{constructor(i,e){this.cache=i,this.clientId=e,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(i){return T(this,null,function*(){var e;let t=new Set(((e=yield this.cache.get(this.manifestKey))===null||e===void 0?void 0:e.keys)||[]);t.add(i),yield this.cache.set(this.manifestKey,{keys:[...t]})})}remove(i){return T(this,null,function*(){let e=yield this.cache.get(this.manifestKey);if(e){let t=new Set(e.keys);return t.delete(i),t.size>0?yield this.cache.set(this.manifestKey,{keys:[...t]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(i){return`@@auth0spajs@@::${i}`}},nl={memory:()=>new Qt().enclosedCache,localstorage:()=>new Kn},Qo=n=>nl[n],ea=n=>{let{openUrl:i,onRedirect:e}=n,t=$e(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},t),{openUrl:i===!1||i?i:e})},ir=new Wc,Gn=class{constructor(i){let e,t;if(this.userCache=new Qt().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>T(this,null,function*(){yield ir.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),i),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),i.authorizationParams)}),typeof window<"u"&&(()=>{if(!Wn())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Wn().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),i.cache&&i.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),i.cache)t=i.cache;else{if(e=i.cacheLocation||"memory",!Qo(e))throw new Error(`Invalid cache location "${e}"`);t=Qo(e)()}this.httpTimeoutMs=i.httpTimeoutInSeconds?1e3*i.httpTimeoutInSeconds:1e4,this.cookieStorage=i.legacySameSiteCookie===!1?Pt:Jc,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(a=>`auth0.${a}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=i.sessionCheckExpiryDays||1;let r=i.useCookiesForTransactions?this.cookieStorage:Qc;var o;this.scope=zn("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new ar(r,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||na,this.cacheManager=new or(t,t.allKeys?void 0:new sr(t,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((a,s)=>a?a.startsWith("https://")?a:`https://${a}/`:`${s}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&e==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new tl)}_url(i){let e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||ta)));return`${this.domainUrl}${i}&auth0Client=${e}`}_authorizeUrl(i){return this._url(`/authorize?${rr(i)}`)}_verifyIdToken(i,e,t){return T(this,null,function*(){let r=yield this.nowProvider();return Yc({iss:this.tokenIssuer,aud:this.options.clientId,id_token:i,nonce:e,organization:t,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:r});var o})}_processOrgHint(i){i?this.cookieStorage.save(this.orgHintCookieName,i,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(i,e,t){return T(this,null,function*(){let r=Go(er()),o=Go(er()),a=er(),s=(u=>{let m=new Uint8Array(u);return(g=>{let S={"+":"-","/":"_","=":""};return g.replace(/[+/=]/g,y=>S[y])})(window.btoa(String.fromCharCode(...Array.from(m))))})(yield(u=>T(this,null,function*(){return yield Wn().subtle.digest({name:"SHA-256"},new TextEncoder().encode(u))}))(a)),c=((u,m,g,S,y,O,k,z)=>Object.assign(Object.assign(Object.assign({client_id:u.clientId},u.authorizationParams),g),{scope:zn(m,g.scope),response_type:"code",response_mode:z||"query",state:S,nonce:y,redirect_uri:k||u.authorizationParams.redirect_uri,code_challenge:O,code_challenge_method:"S256"}))(this.options,this.scope,i,r,o,s,i.redirect_uri||this.options.authorizationParams.redirect_uri||t,e?.response_mode),l=this._authorizeUrl(c);return{nonce:o,code_verifier:a,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:r,url:l}})}loginWithPopup(i,e){return T(this,null,function*(){var t;if(i=i||{},!(e=e||{}).popup&&(e.popup=(s=>{let c=window.screenX+(window.innerWidth-400)/2,l=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup",`left=${c},top=${l},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!e.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let r=yield this._prepareAuthorizeUrl(i.authorizationParams||{},{response_mode:"web_message"},window.location.origin);e.popup.location.href=r.url;let o=yield(s=>new Promise((c,l)=>{let u,m=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(m),clearTimeout(g),window.removeEventListener("message",u,!1),l(new Bn(s.popup)))},1e3),g=setTimeout(()=>{clearInterval(m),l(new Vn(s.popup)),window.removeEventListener("message",u,!1)},1e3*(s.timeoutInSeconds||60));u=function(S){if(S.data&&S.data.type==="authorization_response"){if(clearTimeout(g),clearInterval(m),window.removeEventListener("message",u,!1),s.popup.close(),S.data.response.error)return l(le.fromPayload(S.data.response));c(S.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(r.state!==o.state)throw new le("state_mismatch","Invalid state");let a=((t=i.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:r.redirect_uri},{nonceIn:r.nonce,organization:a})})}getUser(){return T(this,null,function*(){var i;let e=yield this._getIdTokenFromCache();return(i=e?.decodedToken)===null||i===void 0?void 0:i.user})}getIdTokenClaims(){return T(this,null,function*(){var i;let e=yield this._getIdTokenFromCache();return(i=e?.decodedToken)===null||i===void 0?void 0:i.claims})}loginWithRedirect(){return T(this,arguments,function*(i={}){var e;let t=ea(i),{openUrl:r,fragment:o,appState:a}=t,s=$e(t,["openUrl","fragment","appState"]),c=((e=s.authorizationParams)===null||e===void 0?void 0:e.organization)||this.options.authorizationParams.organization,l=yield this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:u}=l,m=$e(l,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},m),{appState:a}),c&&{organization:c}));let g=o?`${u}#${o}`:u;r?yield r(g):window.location.assign(g)})}handleRedirectCallback(){return T(this,arguments,function*(i=window.location.href){let e=i.split("?").slice(1);if(e.length===0)throw new Error("There are no query params available for parsing.");let{state:t,code:r,error:o,error_description:a}=(m=>{m.indexOf("#")>-1&&(m=m.substring(0,m.indexOf("#")));let g=new URLSearchParams(m);return{state:g.get("state"),code:g.get("code")||void 0,error:g.get("error")||void 0,error_description:g.get("error_description")||void 0}})(e.join("")),s=this.transactionManager.get();if(!s)throw new le("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new Hn(o,a||o,t,s.appState);if(!s.code_verifier||s.state&&s.state!==t)throw new le("state_mismatch","Invalid state");let c=s.organization,l=s.nonce,u=s.redirect_uri;return yield this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:r},u?{redirect_uri:u}:{}),{nonceIn:l,organization:c}),{appState:s.appState}})}checkSession(i){return T(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(i)}catch{}})}getTokenSilently(){return T(this,arguments,function*(i={}){var e;let t=Object.assign(Object.assign({cacheMode:"on"},i),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),i.authorizationParams),{scope:zn(this.scope,(e=i.authorizationParams)===null||e===void 0?void 0:e.scope)})}),r=yield((o,a)=>{let s=nr[a];return s||(s=o().finally(()=>{delete nr[a],s=null}),nr[a]=s),s})(()=>this._getTokenSilently(t),`${this.options.clientId}::${t.authorizationParams.audience}::${t.authorizationParams.scope}`);return i.detailedResponse?r:r?.access_token})}_getTokenSilently(i){return T(this,null,function*(){let{cacheMode:e}=i,t=$e(i,["cacheMode"]);if(e!=="off"){let r=yield this._getEntryFromCache({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId});if(r)return r}if(e!=="cache-only"){if(!(yield((r,o=3)=>T(this,null,function*(){for(let a=0;a<o;a++)if(yield r())return!0;return!1}))(()=>ir.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new Dt;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),e!=="off"){let l=yield this._getEntryFromCache({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId});if(l)return l}let r=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(t):yield this._getTokenFromIFrame(t),{id_token:o,access_token:a,oauthTokenScope:s,expires_in:c}=r;return Object.assign(Object.assign({id_token:o,access_token:a},s?{scope:s}:null),{expires_in:c})}finally{yield ir.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return T(this,arguments,function*(i={},e={}){var t;let r=Object.assign(Object.assign({},i),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),i.authorizationParams),{scope:zn(this.scope,(t=i.authorizationParams)===null||t===void 0?void 0:t.scope)})});return e=Object.assign(Object.assign({},Hc),e),yield this.loginWithPopup(r,e),(yield this.cacheManager.get(new Ze({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return T(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(i){i.clientId!==null?i.clientId=i.clientId||this.options.clientId:delete i.clientId;let e=i.logoutParams||{},{federated:t}=e,r=$e(e,["federated"]),o=t?"&federated":"";return this._url(`/v2/logout?${rr(Object.assign({clientId:i.clientId},r))}`)+o}logout(){return T(this,arguments,function*(i={}){let e=ea(i),{openUrl:t}=e,r=$e(e,["openUrl"]);i.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(i.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let o=this._buildLogoutUrl(r);t?yield t(o):t!==!1&&window.location.assign(o)})}_getTokenFromIFrame(i){return T(this,null,function*(){let e=Object.assign(Object.assign({},i.authorizationParams),{prompt:"none"}),t=this.cookieStorage.get(this.orgHintCookieName);t&&!e.organization&&(e.organization=t);let{url:r,state:o,nonce:a,code_verifier:s,redirect_uri:c,scope:l,audience:u}=yield this._prepareAuthorizeUrl(e,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new le("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let m=i.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,g=yield((y,O,k=60)=>new Promise((z,q)=>{let $=window.document.createElement("iframe");$.setAttribute("width","0"),$.setAttribute("height","0"),$.style.display="none";let I=()=>{window.document.body.contains($)&&(window.document.body.removeChild($),window.removeEventListener("message",ve,!1))},ve,en=setTimeout(()=>{q(new Dt),I()},1e3*k);ve=function(We){if(We.origin!=O||!We.data||We.data.type!=="authorization_response")return;let Xe=We.source;Xe&&Xe.close(),We.data.response.error?q(le.fromPayload(We.data.response)):z(We.data.response),clearTimeout(en),window.removeEventListener("message",ve,!1),setTimeout(I,2e3)},window.addEventListener("message",ve,!1),window.document.body.appendChild($),$.setAttribute("src",y)}))(r,this.domainUrl,m);if(o!==g.state)throw new le("state_mismatch","Invalid state");let S=yield this._requestToken(Object.assign(Object.assign({},i.authorizationParams),{code_verifier:s,code:g.code,grant_type:"authorization_code",redirect_uri:c,timeout:i.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:e.organization});return Object.assign(Object.assign({},S),{scope:l,oauthTokenScope:S.scope,audience:u})}catch(m){throw m.error==="login_required"&&this.logout({openUrl:!1}),m}})}_getTokenUsingRefreshToken(i){return T(this,null,function*(){let e=yield this.cacheManager.get(new Ze({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(e&&e.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(i);throw new Jt(i.authorizationParams.audience||"default",i.authorizationParams.scope)}let t=i.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,r=typeof i.timeoutInSeconds=="number"?1e3*i.timeoutInSeconds:null;try{let o=yield this._requestToken(Object.assign(Object.assign(Object.assign({},i.authorizationParams),{grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:t}),r&&{timeout:r}));return Object.assign(Object.assign({},o),{scope:i.authorizationParams.scope,oauthTokenScope:o.scope,audience:i.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(i);throw o}})}_saveEntryInCache(i){return T(this,null,function*(){let{id_token:e,decodedToken:t}=i,r=$e(i,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:e,decodedToken:t}),yield this.cacheManager.setIdToken(this.options.clientId,i.id_token,i.decodedToken),yield this.cacheManager.set(r)})}_getIdTokenFromCache(){return T(this,null,function*(){let i=this.options.authorizationParams.audience||"default",e=yield this.cacheManager.getIdToken(new Ze({clientId:this.options.clientId,audience:i,scope:this.scope})),t=this.userCache.get("@@user@@");return e&&e.id_token===t?.id_token?t:(this.userCache.set("@@user@@",e),e)})}_getEntryFromCache(r){return T(this,arguments,function*({scope:i,audience:e,clientId:t}){let o=yield this.cacheManager.get(new Ze({scope:i,audience:e,clientId:t}),60);if(o&&o.access_token){let{access_token:a,oauthTokenScope:s,expires_in:c}=o,l=yield this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:a},s?{scope:s}:null),{expires_in:c})}})}_requestToken(i,e){return T(this,null,function*(){let{nonceIn:t,organization:r}=e||{},o=yield Gc(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},i),this.worker),a=yield this._verifyIdToken(o.id_token,t,r);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:a,scope:i.scope,audience:i.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(r||a.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:a})})}};var oa={name:"@auth0/auth0-angular",version:"2.2.3"},ur=class{static createClient(i){let e=i.get();if(!e)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new Gn(Z(C({},e),{auth0Client:{name:oa.name,version:oa.version,env:{"angular/core":Wr.full}}}))}},Zn=new pe("auth0.client");function aa(n){return typeof n!="string"}var sa=new pe("auth0-angular.config"),dr=(()=>{class n{constructor(e){e&&this.set(e)}set(e){this.config=e}get(){return this.config}}return n.\u0275fac=function(e){return new(e||n)(G(sa,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),il=(()=>{class n{constructor(e,t){this.location=e;try{this.router=t.get(fe)}catch{}}navigateByUrl(e){if(this.router){this.router.navigateByUrl(e);return}this.location.replaceState(e)}}return n.\u0275fac=function(e){return new(e||n)(G(gt),G(Et))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ca=(()=>{class n{constructor(e){this.auth0Client=e,this.isLoadingSubject$=new he(!0),this.refresh$=new ue,this.accessToken$=new tn(1),this.errorSubject$=new tn(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(rn((t,r)=>({previous:t.current,current:r}),{current:null,previous:null}),Ae(({previous:t,current:r})=>t!==r)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(Ae(t=>!t),nn(),L(()=>yr(it(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(ce(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(ce(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(nn(),on(1)),this.user$=this.isAuthenticatedTrigger$.pipe(ye(t=>t?this.auth0Client.getUser():w(null)),nn()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(ye(t=>t?this.auth0Client.getIdTokenClaims():w(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(e){this.isLoadingSubject$.next(e)}refresh(){this.refresh$.next()}setAccessToken(e){this.accessToken$.next(e)}setError(e){this.errorSubject$.next(e)}}return n.\u0275fac=function(e){return new(e||n)(G(Zn))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ye=(()=>{class n{constructor(e,t,r,o){this.auth0Client=e,this.configFactory=t,this.navigator=r,this.authState=o,this.appStateSubject$=new tn(1),this.ngUnsubscribe$=new ue,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let a=s=>ii(()=>s,this.handleRedirectCallback(),it(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(L(s=>a(s).pipe(B(c=>{let l=this.configFactory.get();return this.navigator.navigateByUrl(l.errorPath||"/"),this.authState.setError(c),w(void 0)}))),E(()=>{this.authState.setIsLoading(!1)}),an(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(e){return oe(this.auth0Client.loginWithRedirect(e))}loginWithPopup(e,t){return oe(this.auth0Client.loginWithPopup(e,t).then(()=>{this.authState.refresh()}))}logout(e){return oe(this.auth0Client.logout(e).then(()=>{(e?.openUrl===!1||e?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(e={}){return w(this.auth0Client).pipe(ye(t=>e.detailedResponse===!0?t.getTokenSilently(Z(C({},e),{detailedResponse:!0})):t.getTokenSilently(e)),E(t=>{t&&this.authState.setAccessToken(typeof t=="string"?t:t.access_token)}),B(t=>(this.authState.setError(t),this.authState.refresh(),be(t))))}getAccessTokenWithPopup(e){return w(this.auth0Client).pipe(ye(t=>t.getTokenWithPopup(e)),E(t=>{t&&this.authState.setAccessToken(t)}),B(t=>(this.authState.setError(t),this.authState.refresh(),be(t))))}handleRedirectCallback(e){return it(()=>this.auth0Client.handleRedirectCallback(e)).pipe(xr(this.authState.isLoading$),E(([t,r])=>{r||this.authState.refresh();let o=t?.appState,a=o?.target??"/";o&&this.appStateSubject$.next(o),this.navigator.navigateByUrl(a)}),R(([t])=>t))}shouldHandleCallback(){return w(location.search).pipe(R(e=>{let t=new URLSearchParams(e);return(t.has("code")||t.has("error"))&&t.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return n.\u0275fac=function(e){return new(e||n)(G(Zn),G(dr),G(il),G(ca))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pt=(()=>{class n{constructor(e){this.auth=e}canLoad(e,t){return this.auth.isAuthenticated$.pipe(Je(1))}canActivate(e,t){return this.redirectIfUnauthenticated(t)}canActivateChild(e,t){return this.redirectIfUnauthenticated(t)}redirectIfUnauthenticated(e){return this.auth.isAuthenticated$.pipe(E(t=>{t||this.auth.loginWithRedirect({appState:{target:e.url}})}))}}return n.\u0275fac=function(e){return new(e||n)(G(Ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var rl=n=>i=>i.pipe(ce(e=>n.pipe(ae(),Sr(e)))),la=(()=>{class n{constructor(e,t,r,o){this.configFactory=e,this.auth0Client=t,this.authState=r,this.authService=o}intercept(e,t){let r=this.configFactory.get();if(!r.httpInterceptor?.allowedList)return t.handle(e);let o=this.authService.isLoading$.pipe(Ae(a=>!a));return this.findMatchingRoute(e,r.httpInterceptor).pipe(ye(a=>ii(()=>a!==null,w(a).pipe(rl(o),Cr("tokenOptions"),ye(s=>this.getAccessTokenSilently(s).pipe(B(c=>this.allowAnonymous(a,c)?w(""):(this.authState.setError(c),be(c))))),L(s=>{let c=s?e.clone({headers:e.headers.set("Authorization",`Bearer ${s}`)}):e;return t.handle(c)})),t.handle(e))))}getAccessTokenSilently(e){return w(this.auth0Client).pipe(ye(t=>t.getTokenSilently(e)),E(t=>this.authState.setAccessToken(t)),B(t=>(this.authState.refresh(),be(t))))}stripQueryFrom(e){return e.indexOf("?")>-1&&(e=e.substr(0,e.indexOf("?"))),e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#"))),e}canAttachToken(e,t){let r=o=>{if(!o)return!1;let a=this.stripQueryFrom(t.url);return o===a?!0:o.indexOf("*")===o.length-1&&t.url.startsWith(o.substr(0,o.length-1))};return aa(e)?e.httpMethod&&e.httpMethod!==t.method?!1:(!e.uri&&!e.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),e.uriMatcher?e.uriMatcher(t.url):r(e.uri)):r(e)}findMatchingRoute(e,t){return oe(t.allowedList).pipe(ae(r=>this.canAttachToken(r,e),null))}allowAnonymous(e,t){return!!e&&aa(e)&&!!e.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(t.error)}}return n.\u0275fac=function(e){return new(e||n)(G(dr),G(Zn),G(ca),G(Ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();function ua(n){return[Ye,la,pt,{provide:sa,useValue:n},{provide:Zn,useFactory:ur.createClient,deps:[dr]}]}var da=(n,i)=>v(la).intercept(n,{handle:i});var Pe=(()=>{class n{constructor(){this.authService=v(Ye),this.httpClient=v(Le)}isAuthenticated$(){return this.authService.isAuthenticated$}setUserFavoritePollenForecastLoaction(e,t,r){return t.favorite.pollenForecastLocation=r,this.setUserMetadata(e,t)}setUserFavoriteWeatherForecastLocation(e,t,r){return t.favorite.weatherForecastLocation=r,this.setUserMetadata(e,t)}getUserMetadata(e){let t=new ot(Q.dev.serverUrl,`user/${e}`);return this.httpClient.get(t.url).pipe(E(r=>console.log(r)))}getUser(){return this.authService.idTokenClaims$}login(){this.authService.loginWithRedirect({})}logout(){this.authService.logout({logoutParams:{}})}setUserMetadata(e,t){let r=new ot(Q.dev.serverUrl,`user/${e}`);return this.httpClient.patch(r.url,{user_metadata:t}).pipe(R(o=>o.user_metadata))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ol=()=>[rt,import("./chunk-6PJHA2UV.js").then(n=>n.MenuItemComponent),de],ha=()=>["/","profile"];function al(n,i){if(n&1){let e=Re();ie(0),h(1,"app-menu-item",2)(2,"li")(3,"a",3),f(4),d()(),h(5,"li")(6,"a",4),H("click",function(){ee(e);let r=P(2);return te(r.logout())}),f(7),d()()(),h(8,"div",1)(9,"a",3)(10,"div",5),_(11,"fa-icon",6),d(),h(12,"span"),f(13),d()(),h(14,"a",7),H("click",function(){ee(e);let r=P(2);return te(r.logout())}),h(15,"div",5),_(16,"fa-icon",6),d(),h(17,"span"),f(18),d()()()}if(n&2){let e=P(2),t=e.user();p(),hn("name",t.nickname),p(2),b("routerLink",Ve(9,ha)),p(),M(e.buttonGroup.profile.title),p(3),M(e.buttonGroup.logout.title),p(2),b("routerLink",Ve(10,ha)),p(2),b("icon",e.buttonGroup.profile.icon),p(2),M(e.buttonGroup.profile.title),p(3),b("icon",e.buttonGroup.logout.icon),p(2),M(e.buttonGroup.logout.title)}}function sl(n,i){n&1&&f(0," Loading... ")}function cl(n,i){if(n&1&&(W(0,al,19,11)(1,sl,1,0),_e(2,0,ol,1)),n&2){let e=P();p(2),xe(e.user()!==void 0)}}function ll(n,i){if(n&1){let e=Re();h(0,"div",1)(1,"a",8),H("click",function(r){ee(e);let o=P();return te(o.loginWithRedirect(r))}),h(2,"div",5),_(3,"fa-icon",6),d(),h(4,"span"),f(5),d()()()}if(n&2){let e=P();p(3),b("icon",e.buttonGroup.login.icon),p(2),M(e.buttonGroup.login.title)}}var Yn=(()=>{class n{constructor(e){this.document=e,this.userService=v(Pe),this.authService=v(Ye),this.user=A(this.userService.getUser()),this.isAuthenticated=A(this.authService.isAuthenticated$),this.loginIcon=Jr,this.buttonGroup={profile:{icon:Yr,title:"Profil"},logout:{icon:Gr,title:"Logga ut"},login:{icon:Xr,title:"Logga in"}}}loginWithRedirect(e){e.preventDefault(),console.log("test"),this.userService.login()}logout(){this.userService.logout()}static{this.\u0275fac=function(t){return new(t||n)(Se(hi))}}static{this.\u0275cmp=x({type:n,selectors:[["app-user-menu-item"]],decls:3,vars:1,consts:[[1,"profile"],[1,"button-group"],[3,"name"],[3,"routerLink"],[3,"click","routerLink"],[1,"icon"],["size","lg",3,"icon"],["routerLink","[]",3,"click"],["routerLink","",3,"click"]],template:function(t,r){t&1&&(h(0,"div",0),W(1,cl,4,1)(2,ll,6,2,"div",1),d()),t&2&&(p(),X(r.isAuthenticated()?1:2))},dependencies:[vt,rt,de],styles:[".button-group[_ngcontent-%COMP%]{display:none}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--fs-100);color:var(--gray-500)}a[_ngcontent-%COMP%]{border-radius:var(--rounded)}a[_ngcontent-%COMP%]:hover{background-color:var(--blue-508)}@media (min-width: 600px){app-menu-item[_ngcontent-%COMP%]{display:none}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:stretch}.button-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-height:32px;padding:var(--small);display:flex;flex-direction:column;text-align:center;gap:var(--extra-small)}}"]})}}return n})();var ul=()=>({exact:!0}),ma=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["left-nav-item"]],inputs:{config:"config"},decls:5,vars:6,consts:[["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[1,"icon"],[3,"icon","size"],[1,"helper-text"]],template:function(t,r){t&1&&(h(0,"a",0)(1,"div",1),_(2,"fa-icon",2),d(),h(3,"span",3),f(4),d()()),t&2&&(b("routerLink",r.config.route)("routerLinkActiveOptions",Ve(5,ul)),p(2),b("icon",r.config.icon)("size",r.config.size),p(2),M(r.config.title))},dependencies:[vt,rt,Mt,de],styles:["a[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--extra-small);align-items:center;justify-content:center;padding-block:var(--small)}a[_ngcontent-%COMP%]:hover{cursor:pointer}.icon[_ngcontent-%COMP%]{height:32px;width:4rem;display:flex;justify-content:center;align-items:center;border-radius:100vw;flex-direction:column}a[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background:var( --pnc-sys-color-surface-container-high)}a.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:var(--pnc-sys-color-inverse-primary)}@media (min-width: 1440px){a[_ngcontent-%COMP%]{width:100%;padding-block:var(--small);padding-inline:var(--medium);border-radius:var(--pill);flex-direction:row;gap:var(--medium);justify-content:flex-start;align-items:center}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background:var(--pnc-sys-color-surface-container-high)}a.active[_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:var(--pnc-sys-color-inverse-primary)}}"]})}}return n})();var Xn=(()=>{class n{constructor(){this.logoPath="./assets/logo.svg#logo-rounded",this.logoHref="/"}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-logo"]],decls:3,vars:2,consts:[[1,"logo",3,"routerLink"],["width","128","height","128",1,"icon-logo"]],template:function(t,r){t&1&&(h(0,"a",0),Rr(),h(1,"svg",1),_(2,"use"),d()()),t&2&&(b("routerLink",r.logoHref),p(2),dn("href",r.logoPath,null,"xlink"))},dependencies:[de],styles:[".logo[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{fill:var(--pnc-sys-color-inverse-primary)}.icon-logo[_ngcontent-%COMP%]{width:50px;height:50px;margin:.5em}"]})}}return n})();function dl(n,i){if(n&1&&(h(0,"li"),_(1,"left-nav-item",0),d()),n&2){let e=i.$implicit,t=P();p(),b("config",t.createConfig(e))}}var fa=(()=>{class n{constructor(){this.links=[{route:"/",icon:eo,title:"Hem"},{route:"/dashboard",icon:Qr,title:"Dashboard"},{route:"/weather",icon:io,title:"S\xF6k v\xE4der"},{route:"/hydrological-observations",icon:mi,title:"Hydrologi"},{route:"/oceanographical-observations",icon:mi,title:"Oceanografi"},{route:"/pollen",icon:Zr,title:"Pollen"}]}createConfig(e){return{route:e.route,icon:e.icon,size:"lg",title:e.title}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-left-nav"]],decls:6,vars:0,consts:[[3,"config"]],template:function(t,r){t&1&&(_(0,"app-logo"),h(1,"nav")(2,"ul"),Ie(3,dl,2,1,"li",null,ke),d()(),_(5,"app-user-menu-item")),t&2&&(p(3),Oe(r.links))},dependencies:[Yn,ma,Xn],styles:["[_nghost-%COMP%]{position:fixed;bottom:0;width:100%;height:var(--x-extra-large);display:flex;flex-direction:row;justify-content:center;align-items:center;z-index:9999;background-color:var(--pnc-sys-color-surface-container-low);background-blend-mode:multiply;transition-duration:var(--duration-short);transition-timing-function:var(--ease-in-out)}nav[_ngcontent-%COMP%]{display:contents}ul[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;justify-content:stretch;align-items:stretch;flex-grow:1}li[_ngcontent-%COMP%]{flex-grow:1}app-logo[_ngcontent-%COMP%], app-user-menu-item[_ngcontent-%COMP%]{display:none}@media (min-width: 600px){[_nghost-%COMP%]{position:fixed;flex-direction:column;width:var(--small-navigation-drawer-width);height:100%;justify-content:space-between;align-items:center;gap:var(--x-extra-large);padding-block:var(--medium)}ul[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;flex-grow:0}a[_ngcontent-%COMP%]{padding-block:var(--small);height:min-content}app-logo[_ngcontent-%COMP%], app-user-menu-item[_ngcontent-%COMP%]{display:inline}}@media (min-width: 1440px){[_nghost-%COMP%]{min-width:var(--large-navigation-drawer-width);padding-inline:var(--small);gap:calc(var(--x-extra-large));justify-content:flex-start;align-items:stretch}ul[_ngcontent-%COMP%]{justify-content:flex-start;align-items:stretch;flex-grow:1}li[_ngcontent-%COMP%]{flex-grow:0}}"]})}}return n})();var ga=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-header"]],decls:2,vars:0,template:function(t,r){t&1&&_(0,"app-logo")(1,"app-user-menu-item")},dependencies:[Yn,Xn],styles:["[_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;position:relative;height:calc(var(--x-extra-large) - 1rem);padding-inline:var(--small);background-color:var(--light-background-100);box-shadow:var(--bs-2-bottom)}a.logo[_ngcontent-%COMP%]{display:flex;align-items:center}fa-icon[_ngcontent-%COMP%]{color:var(--white)}@media (min-width: 600px){[_nghost-%COMP%]{display:none}}"]})}}return n})();var va=(()=>{class n{constructor(){this.title="dashboard"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&_(0,"app-header")(1,"app-left-nav")(2,"router-outlet")},dependencies:[Ee,fa,ga,oo],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}"]})}}return n})();var hl=["*"],ge=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-column"]],ngContentSelectors:hl,decls:2,vars:0,template:function(t,r){t&1&&(mt(),h(0,"main"),ft(1),d())},styles:["[_nghost-%COMP%]{display:flex;justify-content:stretch;overflow-y:auto;width:100%;margin-bottom:var(--navigation-bar-height)}main[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:stretch;gap:var(--small)}@media (min-width: 600px){[_nghost-%COMP%]{margin-inline-start:var(--small-navigation-drawer-width);margin-bottom:0;width:calc(100% - var(--small-navigation-drawer-width))}main[_ngcontent-%COMP%]{gap:var(--medium);padding:var(--medium);padding-bottom:0}}@media (min-width: 840px){main[_ngcontent-%COMP%]{grid-template-columns:repeat(8,1fr)}}@media (min-width:1440px){[_nghost-%COMP%]{margin-inline-start:var(--large-navigation-drawer-width);width:calc(100% - var(--large-navigation-drawer-width))}main[_ngcontent-%COMP%]{gap:var(--large);padding:var(--large);padding-bottom:0;width:100%;max-width:1280px;margin:0 auto}}"]})}}return n})();function pl(n,i){if(n&1&&(h(0,"li")(1,"a",0),f(2),d()()),n&2){let e=i.$implicit;p(),hn("href",e.href,ln),p(),M(e.name)}}var ya=(()=>{class n{constructor(){this.links=[{href:"https://jwpihlgren.github.io/pmdb/",name:"Pihlgren Movie Database"},{href:"https://jwpihlgren.github.io/weather-app/",name:"Weather App (Legacy)"},{href:"https://jwpihlgren.github.io/",name:"Portfolio"}]}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-home"]],decls:7,vars:0,consts:[["rel","nofollow",3,"href"]],template:function(t,r){t&1&&(h(0,"app-column")(1,"h1"),f(2,"L\xE4nkar till andra projekt"),d(),h(3,"nav")(4,"ul"),Ie(5,pl,3,2,"li",null,ke),d()()()),t&2&&(p(5),Oe(r.links))},dependencies:[ge],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;padding:var(--extra-large);padding-block-end:0}ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--large)}li[_ngcontent-%COMP%]{display:contents}a[_ngcontent-%COMP%]{padding:var(--large);font-size:var(--fs-600);font-weight:var(--fw-500);background:var( --pnc-sys-color-surface-container-high);border-radius:var(--rounded);transition-duration:var( --duration-short);transition-timing-function:var(--ease-in-out)}a[_ngcontent-%COMP%]:hover{background:var(--pnc-sys-color-inverse-primary);color:var( --pnc-sys-color-on-primary)}"]})}}return n})();var Ne=(()=>{class n{constructor(){this.MAX_STORAGE_SIZE=5242880}getStoredData(e){return JSON.parse(localStorage.getItem(e)||"{}")}setStoredData(e,t){let r=JSON.stringify(t);if(r.length>=this.MAX_STORAGE_SIZE){console.log(`Object was too large to store in session storage ${r.length}/${this.MAX_STORAGE_SIZE} characters  `);return}localStorage.setItem(e,r)}deleteStoredData(e){localStorage.removeItem(e)}clearlocalStorage(){localStorage.clear()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Fe=(()=>{class n{constructor(e,t){this.http=e,this.localStorageService=t,this.API="https://opendata-download-ocobs.smhi.se/api",this.VERSION="version/1.0",this.MEDIA_TYPE=".json",this.APPLICATION_TYPE="application/json",this.BAD_PERIODS=["corrected-archive"]}getParameters(){return this.http.get(`${this.API}/${this.VERSION}${this.MEDIA_TYPE}`).pipe(B(e=>(console.log(e),K)))}getStations(e){let t=`parameter/${e}`;return this.http.get(`${this.API}/${this.VERSION}/${t}${this.MEDIA_TYPE}`).pipe(B(r=>(console.log(r),K)))}getStation(e,t){let r=`parameter/${e}`,o=`station/${t}`;return this.http.get(`${this.API}/${this.VERSION}/${r}/${o}${this.MEDIA_TYPE}`).pipe(R(a=>{let s=a.period.filter(c=>!this.BAD_PERIODS.includes(c.key));return a.period=s,a}),B(a=>(console.log(a),K)))}getPeriod(e,t,r){let o=`parameter/${e}`,a=`station/${t}`,s=`period/${r}`,c=`${e}-${t}-${r}`;return this.http.get(`${this.API}/${this.VERSION}/${o}/${a}/${s}${this.MEDIA_TYPE}`).pipe(R(l=>{let u=this.localStorageService.getStoredData("oceanographicalPeriods");return this.localStorageService.setStoredData("oceanographicalPeriods",Z(C({},u),{[c]:l})),l}),B(l=>(console.log(l),K)))}getPeriodData(e,t,r){let o=`parameter/${e}`,a=`station/${t}`,s=`period/${r}`,c="data",l=`${e}-${t}-${r}`,u=this.localStorageService.getStoredData("oceanographicalPeriods"),m=this.localStorageService.getStoredData("oceanographicalData"),g=u[l],S=m[l];return g&&S&&g.data[0].updated===S.updated?w(S):this.http.get(`${this.API}/${this.VERSION}/${o}/${a}/${s}/${c}${this.MEDIA_TYPE}`).pipe(R(y=>{let O=this.localStorageService.getStoredData("oceanographicalData");return O[l]=y,this.localStorageService.setStoredData("oceanographicalData",Z(C({},O),{[l]:y})),y}),B(y=>(console.log(y),K)))}static{this.\u0275fac=function(t){return new(t||n)(G(Le),G(Ne))}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Jn=(()=>{class n{constructor(){this.httpClient=v(Le),this.userService=v(Pe),this.localStorageService=v(Ne),this.sessionStorageService=v(Sn),this.search=new ue,this.searchResults$=this.search.pipe(L(e=>e===void 0?w([]):this.request(e)))}find(e){this.search.next(e)}clear(){this.search.next(void 0)}request(e){let t=Q.dev.serverUrl,r="location",o=new ot(t,r);o.addQueryParam("query",e);let a=this.localStorageService.getStoredData("queries");return a&&a[e]?w(a[e]):this.httpClient.get(`${o.url}`).pipe(R(s=>{let c=[];s&&s.length!==0&&s.forEach(u=>c.push(this.createLocationObject(u)));let l=this.localStorageService.getStoredData("queries");return l[e]=c,this.localStorageService.setStoredData("queries",l),c}))}createLocationObject(e){return{name:e.name,region:e.region,local_name:e.local_names?.sv?e.local_names.sv:e.name,lat:e.lat,lon:e.lon,country:e.country}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Tt=(()=>{class n{constructor(){this.localStorage=v(Ne),this.http=v(Le),this.BASE_URL="https://api.pollenrapporten.se/v1",this.ISSUER="Palynologiska laboratoriet vid Naturhistoriska riksmuseet",this.ISSUER_URL="https://pollenrapporten.se/omwebbplatsen/attanvandapollenprognoserna",this.REGION_TTL=1e3*60*60*24,this.POLLEN_TYPES_TTL=1e3*60*60*24,this.POLLEN_FORECAST_TTL=1e3*60*60*1,this.REGION_STORE_KEY="regions",this.POLLEN_TYPE_STORE_KEY="pollen_type",this.POLLEN_FORECAST_STORE_KEY="pollen_forecast",this.MAX_CHAR_COUNT_SHORT_DESCRIPTION=150,this.query$=new ue,this.pollenForecast$=this.query$.pipe(L(e=>this.request(e.region,e.date)))}pollenForecastById(e,t=new Date){t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.query$.next({region:e,date:t})}pollenForecastByName(e,t=new Date){t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.getRegions().pipe(E(r=>{let o=r.items.find(a=>a.name===e);o?this.query$.next({region:o.id,date:t}):be(`Region: ${e} not found.`)}),ae()).subscribe()}getPollenRegions(){return this.getRegions().pipe(R(e=>this.mapOPARegion(e)))}request(e,t){return this.generateDetailedForecast(e,t).pipe()}generateDetailedForecast(e,t){let r=this.getRegions(),o=this.getPollenTypes(),a=this.getForecasts(e);return vr({regions:r,pollenTypes:o,forecasts:a}).pipe(R(s=>{let c=this.mapOPAPollenTypes(s.pollenTypes),l=this.mapOPARegion(s.regions),u={forecast:s.forecasts,pollenTypes:c,regions:l,dateInForecast:t},m=this.mapOPAForecast(u);return m.pollenLevels=[...m.pollenLevels].filter(g=>{let S=new Date(g.time.setHours(0)).getTime(),y=new Date(m.currentDate.setHours(0)).getTime();return S===y}),m}),on(1))}getForecasts(e="all"){let t=this.getForecastStore(e),r=new ot(this.BASE_URL,"forecasts").addQueryParam("current","true");return e!=="all"&&r.addQueryParam("region_id",e),t?w(t):this.http.get(r.url).pipe(E(o=>this.setForecastStore(e,o)),B(o=>(console.log(o),K)))}getForecastStore(e){let t=this.localStorage.getStoredData(e),r=new Date().getTime();if(!(!t.ttl||!t.timestamp||r>t.timestamp+t.ttl))return t}setForecastStore(e,t){let r=new Date().getTime();this.localStorage.setStoredData(e,C({timestamp:r,ttl:this.POLLEN_FORECAST_TTL},t))}mapOPAForecast(e){let t=e.forecast.items[0],r=new Date;r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);let o=Array.from(new Set(t.levelSeries.map(s=>s.time))).map((s,c)=>({id:c,date:new Date(s)}));return{id:t.id,fetchDate:new Date,issuerName:this.ISSUER,issuerLink:this.ISSUER_URL,shortDescription:t.text.length>this.MAX_CHAR_COUNT_SHORT_DESCRIPTION?t.text.substring(0,this.MAX_CHAR_COUNT_SHORT_DESCRIPTION-3)+"...":t.text,description:t.text.length>this.MAX_CHAR_COUNT_SHORT_DESCRIPTION?t.text:void 0,regionId:t.regionId,regionName:e.regions.find(s=>s.id===t.regionId).name,currentDate:e.dateInForecast||r,availableDates:o,pollenLevels:t.levelSeries.map(s=>({pollenTypeName:s.pollenId,level:s.level,levelName:e.pollenTypes.find(l=>l.id===s.pollenId).name,time:new Date(s.time)}))}}getPollenTypes(){let t=`${this.BASE_URL}/pollen-types`,r=this.getPollenTypesStore();return r?w(r):this.http.get(t).pipe(E(o=>this.setPollenTypesStore(o)),B(o=>(console.log(o),K)))}getPollenTypesStore(){let e=this.localStorage.getStoredData(this.POLLEN_TYPE_STORE_KEY),t=new Date().getTime();if(!(!e.ttl||!e.timestamp||t>e.timestamp+e.ttl))return e}setPollenTypesStore(e){let t=new Date().getTime();this.localStorage.setStoredData(this.POLLEN_TYPE_STORE_KEY,C({timestamp:t,ttl:this.POLLEN_TYPES_TTL},e))}mapOPAPollenTypes(e){return e.items.map(r=>({name:r.name,id:r.id}))}getRegions(){let t=`${this.BASE_URL}/regions`,r=this.getRegionStore();return r?w(r):this.http.get(t).pipe(E(o=>this.setRegionStore(o)),B(o=>(console.log(o),K)))}getRegionStore(){let e=this.localStorage.getStoredData(this.REGION_STORE_KEY),t=new Date().getTime();if(!(!e.ttl||!e.timestamp||t>e.timestamp+e.ttl))return e}setRegionStore(e){let t=new Date().getTime();this.localStorage.setStoredData(this.REGION_STORE_KEY,C({timestamp:t,ttl:this.REGION_TTL},e))}mapOPARegion(e){let t=[];return e.items.forEach(r=>t.push({id:r.id,name:r.name})),t}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fl=["*"],wa=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-masonry-grid"]],ngContentSelectors:fl,decls:2,vars:0,template:function(t,r){t&1&&(mt(),h(0,"main"),ft(1),d())},styles:["[_nghost-%COMP%]{display:flex;justify-content:stretch;overflow-y:auto;width:100%;margin-bottom:var(--navigation-bar-height);min-height:100%}main[_ngcontent-%COMP%]{display:grid;width:100%;gap:var(--small);padding:var(--small);grid-template-columns:repeat(auto-fill,minmax(50%,1fr));grid-auto-flow:dense}@media (min-width: 600px){[_nghost-%COMP%]{margin-inline-start:var(--small-navigation-drawer-width);margin-bottom:0;width:calc(100% - var(--small-navigation-drawer-width))}main[_ngcontent-%COMP%]{gap:var(--medium);padding:var(--medium)}}@media (min-width: 840px){main[_ngcontent-%COMP%]{grid-template-columns:repeat(8,1fr)}}@media (min-width: 1180px){main[_ngcontent-%COMP%]{grid-template-columns:repeat(12,1fr)}}@media (min-width:1440px){[_nghost-%COMP%]{margin-inline-start:var(--large-navigation-drawer-width);width:calc(100% - var(--large-navigation-drawer-width))}main[_ngcontent-%COMP%]{gap:var(--medium);padding:var(--large);width:100%;max-width:1280px;margin:0 auto}}"]})}}return n})();var gl=()=>[import("./chunk-HRCDQDM2.js").then(n=>n.CurrentWeatherComponent)],vl=()=>[import("./chunk-OT3MLPMB.js").then(n=>n.WeatherCardComponent)],yl=()=>[import("./chunk-I7EOVI4B.js").then(n=>n.PollenForecastComponent)],Sl=()=>[import("./chunk-UJDNEKSD.js").then(n=>n.SimpleWaterLevelComponent)],wl=()=>[import("./chunk-KITHPSVW.js").then(n=>n.DetailedWeatherTableComponent)];function Cl(n,i){if(n&1&&_(0,"app-current-weather",0),n&2){let e=P();b("forecast",e.forecast())}}function bl(n,i){n&1&&(h(0,"div",1),f(1,"Loading"),d())}function _l(n,i){if(n&1&&_(0,"app-weather-card",2),n&2){let e=P();b("forecast",e.forecast())}}function xl(n,i){n&1&&(h(0,"div",3),f(1,"Loading"),d())}function kl(n,i){if(n&1){let e=Re();h(0,"app-pollen-forecast",4),H("requestNewData",function(r){ee(e);let o=P();return te(o.updatePollenData(r))}),d()}if(n&2){let e=P();b("forecast",e.pollenForecast())}}function Il(n,i){n&1&&(h(0,"div",5),f(1,"Loading"),d())}function Ol(n,i){if(n&1&&_(0,"app-simple-water-level",6),n&2){let e=P();b("oceanographicalObservationsPeriodData",e.stationWaterLevelData())}}function Rl(n,i){n&1&&(h(0,"div",5),f(1,"Loading"),d())}function Ml(n,i){if(n&1&&_(0,"app-detailed-weather-table",2),n&2){let e=P();b("forecast",e.forecast())}}function Pl(n,i){n&1&&(h(0,"div",3),f(1,"Loading"),d())}var Ca=(()=>{class n{constructor(){this.defaultStation=35101,this.defaultParameter="13",this.defaultPeriod="latest-day",this.thresholdConfig={thresholdColors:["#f8c03f","#32d2ac","#5693e9"],thresholdsAsUnits:[20,80,0]},this.forecast=j(void 0),this.stationWaterLevelData=j(void 0),this.pollenForecast=j(void 0),this.userMetaData=j(void 0),this.id=void 0,this.locationService=v(Jn),this.weatherService=v(wn),this.oceanographicalObservationsService=v(Fe),this.pollenService=v(Tt),this.userService=v(Pe),this.forecast=A(this.weatherService.forecastResult$),this.stationWaterLevelData=A(this.getPeriodData()),this.pollenForecast=A(this.pollenService.pollenForecast$),this.timer=A(this.getTimer()),this.pollenForecastPeriod=new Date,this.userMetaData=A(this.userService.getUser().pipe(L(e=>(this.id=e?.sub,this.userService.getUserMetadata(e?.sub).pipe(R(t=>(this.queryObservables(t),t)))))))}updatePollenData(e){this.pollenService.pollenForecastById(e.regionId,e.date)}getTimer(){return ri(18e5,18e5).pipe(E(()=>{this.userMetaData()&&this.queryObservables(this.userMetaData())}))}queryObservables(e){let t=e.favorite.weatherForecastLocation,r=e.favorite.pollenForecastLocation;t&&this.weatherService.forecastByLocation(t),r&&this.pollenService.pollenForecastByName(r.name,this.pollenForecastPeriod)}getPeriodData(){return ri(0,18e5).pipe(L(()=>this.oceanographicalObservationsService.getPeriod(this.defaultParameter,this.defaultStation,this.defaultPeriod).pipe(L(()=>this.oceanographicalObservationsService.getPeriodData(this.defaultParameter,this.defaultStation,this.defaultPeriod).pipe(br())))))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-dashboard"]],decls:21,vars:5,consts:[[1,"card-single",3,"forecast"],[1,"card","card-single"],[1,"card","card-double",3,"forecast"],[1,"card","card-double"],[1,"card","card-full",3,"requestNewData","forecast"],[1,"card","card-full"],[1,"card","card-full",3,"oceanographicalObservationsPeriodData"]],template:function(t,r){t&1&&(h(0,"app-masonry-grid"),W(1,Cl,1,1)(2,bl,2,0),_e(3,1,gl,2),W(5,_l,1,1)(6,xl,2,0),_e(7,5,vl,6),W(9,kl,1,1)(10,Il,2,0),_e(11,9,yl,10),W(13,Ol,1,1)(14,Rl,2,0),_e(15,13,Sl,14),W(17,Ml,1,1)(18,Pl,2,0),_e(19,17,wl,18),d()),t&2&&(p(3),xe(r.forecast()!==void 0),p(4),xe(r.forecast()!==void 0),p(4),xe(r.pollenForecast()!==void 0),p(4),xe(r.stationWaterLevelData()!==void 0),p(4),xe(r.forecast()!==void 0))},dependencies:[wa],styles:["[_nghost-%COMP%]{display:contents}"]})}}return n})();function Dl(n,i){if(n&1){let e=Re();h(0,"ul")(1,"li"),f(2),d(),h(3,"li"),f(4),d(),h(5,"li"),f(6),d(),h(7,"li"),f(8),d(),h(9,"li"),f(10),d(),h(11,"li"),_(12,"img",0),d()(),h(13,"div",1)(14,"button",2),H("click",function(r){ee(e);let o=P();return te(o.showuser(r))}),f(15,"Logga anv\xE4ndare"),d(),h(16,"button",3),H("click",function(r){ee(e);let o=P();return te(o.clearStorage(r))}),f(17," Rensa lagring "),d()()}if(n&2){let e=P();p(2),M(e.user.name),p(2),M(e.user.nickname),p(2),M(e.user.email),p(2),M(e.user.sub),p(2),M(e.user.updated_at),p(2),b("src",e.user.picture,ln)}}var ba=(()=>{class n{constructor(){this.userMetaData=j(void 0),this.userService=v(Pe),this.localStorageService=v(Ne),this.sessionStorageService=v(Sn),this.auth=v(Ye),this.userMetaData=A(this.userService.getUser().pipe(L(e=>(this.id=e?.sub,this.user=e,this.userService.getUserMetadata(e?.sub)))))}showuser(e){e.target.innerText="Loggad",console.log("userMetaData",this.userMetaData()),setTimeout(()=>{e.target.innerText="Logga anv\xE4ndare"},3e3)}clearStorage(e){this.localStorageService.clearlocalStorage(),this.sessionStorageService.clearSessionStorage(),console.log("Storage cleared"),e.target.innerText="Lagring rensad",setTimeout(()=>{e.target.innerText="Rensa Lagring"},3e3)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-profile"]],decls:2,vars:1,consts:[["alt","",3,"src"],[1,"container"],[1,"primary",3,"click"],[1,"secondary",3,"click"]],template:function(t,r){t&1&&(h(0,"app-column"),W(1,Dl,18,6),d()),t&2&&(p(),X(r.user!==void 0?1:-1))},dependencies:[ge],styles:["[_nghost-%COMP%]{display:contents}ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style:none}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:var(--large)}.container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{flex-grow:0}"]})}}return n})();var Tl=["search"],El=["*"],Al=n=>({focus:n}),jl=n=>({hidden:n}),_a=(()=>{class n{constructor(){this.requestLocationSearch=new De,this.requestClearSearch=new De,this.resultClicked=new De,this.focusChange=new De,this.searchQuery="",this.searchHasFocus=!1,this.searchIsPristine=!0,this.faTimes=no,this.faSearch=to}onSearchKeyUpHandler(e){this.searchQuery=e.target.value,this.searchIsPristine=this.searchQuery==="",this.searchQuery!==""&&this.requestLocationSearch.emit(this.searchQuery)}clearSearchQuery(){this.searchQuery="",this.searchIsPristine=!0,this.elementRef.nativeElement.value=this.searchQuery,this.elementRef.nativeElement.focus(),this.setSearchFocus(),this.requestClearSearch.emit(!0)}setSearchFocus(){this.searchHasFocus=!0,this.focusChange.emit(this.searchHasFocus)}clearSearchFocus(){this.searchHasFocus=!1,this.focusChange.emit(this.searchHasFocus)}onSearchClickHandler(){this.clearSearchQuery(),this.clearSearchFocus()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-search"]],viewQuery:function(t,r){if(t&1&&zr(Tl,5),t&2){let o;pn(o=mn())&&(r.elementRef=o.first)}},outputs:{requestLocationSearch:"requestLocationSearch",requestClearSearch:"requestClearSearch",resultClicked:"resultClicked",focusChange:"focusChange"},ngContentSelectors:El,decls:15,vars:8,consts:[["search",""],["for","search"],[1,"search-field",3,"ngClass"],[1,"flex","row","grow","pb-sm","pi-lg","search-field-input"],["type","search","id","search","autofocus","",3,"keyup","focus","blur"],[1,"button-group",3,"ngClass"],[1,"ternary","round",3,"click"],["size","lg",3,"icon"],[1,"spacer"],[1,"ternary","rounded",3,"click"]],template:function(t,r){if(t&1){let o=Re();mt(),h(0,"label",1)(1,"h6"),f(2,"S\xF6k omr\xE5de"),d()(),h(3,"div",2)(4,"div",3)(5,"input",4,0),H("keyup",function(s){return ee(o),te(r.onSearchKeyUpHandler(s))})("focus",function(){return ee(o),te(r.setSearchFocus())})("blur",function(){return ee(o),te(r.clearSearchFocus())}),d(),h(7,"div",5)(8,"button",6),H("click",function(){return ee(o),te(r.clearSearchQuery())}),_(9,"fa-icon",7),d(),_(10,"span",8),h(11,"button",9),H("click",function(){return ee(o),te(r.onSearchClickHandler())}),_(12,"fa-icon",7),f(13," S\xF6k "),d()()(),ft(14),d()}t&2&&(p(3),b("ngClass",Be(4,Al,r.searchHasFocus)),p(4),b("ngClass",Be(6,jl,r.searchIsPristine)),p(2),b("icon",r.faTimes),p(3),b("icon",r.faSearch))},dependencies:[vt,rt,vn],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column}.search-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:2px solid var(--pnc-sys-color-outline);min-height:68px;border-radius:34px;gap:var(--extra-small);background-color:var( --pnc-sys-color-surface-container-highest);cursor:pointer}.search-field[_ngcontent-%COMP%]:hover, .search-field.focus[_ngcontent-%COMP%]{border-color:var(--pnc-sys-color-primary)}.search-field-input[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{all:unset;font-size:var(--fs-600);vertical-align:top;width:100%}input[_ngcontent-%COMP%]::-webkit-search-cancel-button{display:none}.button-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--small)}.spacer[_ngcontent-%COMP%]{content:"";height:var(--large);width:1px;background-color:var(--pnc-sys-color-surface-container-lowest)}.hidden[_ngcontent-%COMP%]{display:none}hr[_ngcontent-%COMP%]{width:90%;color:var(--pnc-sys-color-surface-container-highest)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--small)}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var( --pnc-sys-color-surface-container);border-radius:100px}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var( --pnc-sys-color-surface-container);border-radius:100px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var( --pnc-sys-color-surface-container-high);border-radius:100px}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{border-radius:100px}']})}}return n})();var Ll=()=>[import("./chunk-7XPO5O2Y.js").then(n=>n.SearchResultComponent)];function Ul(n,i){if(n&1){let e=Re();h(0,"app-search-result",2),H("clickRequest",function(r){ee(e);let o=P(2);return te(o.handleSearchClick(r))}),d()}if(n&2){let e=i.$implicit;b("searchResult",e)}}function $l(n,i){if(n&1&&(h(0,"ul"),Ie(1,Ul,1,1,"app-search-result",1,ke),d()),n&2){let e=P();p(),Oe(e.searchResults())}}function Nl(n,i){n&1&&f(0," Loading... ")}function Fl(n,i){if(n&1){let e=Re();h(0,"div",3),_(1,"app-current-weather",4)(2,"app-weather-card",5)(3,"app-detailed-weather-table",6),d(),h(4,"button",7),H("click",function(){ee(e);let r=P();return te(r.clearForecast())}),f(5,"S\xF6k p\xE5 nytt"),d(),h(6,"button",8),H("click",function(){ee(e);let r=P();return te(r.setDefault(r.location()))}),f(7),d()}if(n&2){let e=P();p(),b("forecast",e.forecast()),p(),b("forecast",e.forecast()),p(),b("forecast",e.forecast()),p(4),M(e.setDefaultButtonText())}}var xa=(()=>{class n{constructor(){this.location=j(void 0),this.locationService=v(Jn),this.weatherService=v(wn),this.userService=v(Pe),this.metadata=j(void 0),this.loading="loading",this.useAsDefault="Anv\xE4nd som standard",this.setDefaultButtonText=j(this.useAsDefault),this.searchResults=A(this.locationService.searchResults$),this.forecast=A(this.weatherService.forecastResult$),this.metadata=A(this.userService.getUser().pipe(L(e=>(this.id=e?.sub,this.userService.getUserMetadata(e?.sub)))))}getLocation(e){this.locationService.find(e)}getForecast(e){this.weatherService.forecastByLocation(e),this.location=j(e)}handleSearchClick(e){this.getForecast(e)}clearSearch(){this.locationService.clear()}clearForecast(){this.weatherService.clearForecast(),this.location=j(void 0)}setDefault(e){this.id&&this.metadata()!==void 0&&e&&(this.setDefaultButtonText.set(this.loading),this.userService.setUserFavoriteWeatherForecastLocation(this.id,this.metadata(),e).pipe(Qe(()=>this.setDefaultButtonText.set(this.useAsDefault)),ae()).subscribe())}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-weather"]],decls:8,vars:2,consts:[[3,"requestLocationSearch","requestClearSearch","resultClicked"],[3,"searchResult"],[3,"clickRequest","searchResult"],[1,"container"],[1,"card-single",3,"forecast"],[1,"card","card-single-quarter",3,"forecast"],[1,"card","card-double",3,"forecast"],[1,"primary",3,"click"],[1,"secondary",3,"click"]],template:function(t,r){t&1&&(h(0,"app-column")(1,"section")(2,"app-search",0),H("requestLocationSearch",function(a){return r.getLocation(a)})("requestClearSearch",function(){return r.clearSearch()})("resultClicked",function(a){return r.getForecast(a)}),d(),W(3,$l,3,0)(4,Nl,1,0),_e(5,3,Ll,4),W(7,Fl,8,4),d()()),t&2&&(p(5),xe(r.searchResults()!==void 0),p(2),X(r.forecast()!==void 0?7:-1))},dependencies:[lo,so,ao,_a,ge],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}app-column[_ngcontent-%COMP%]{flex-grow:1}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(50%,1fr));grid-auto-flow:dense;gap:var(--medium);padding:var(--medium)}@media (min-width: 600px){section[_ngcontent-%COMP%]{padding:var(--medium);border-radius:var(--rounded)}.container[_ngcontent-%COMP%]{gap:var(--medium);padding:var(--medium)}}@media (min-width: 840px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(8,1fr)}}@media (min-width: 1180px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(12,1fr)}}@media (min-width:1440px){.container[_ngcontent-%COMP%]{gap:var(--medium);padding:var(--large);width:100%;max-width:1280px;margin:0 auto}}app-weather-card[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:100%;max-width:1280px;align-self:center}ul[_ngcontent-%COMP%]{padding-bottom:var(--large);display:flex;flex-direction:column;width:100%;overflow:auto;max-height:80vh}"]})}}return n})();var ka=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-oceanographical-observations"]],decls:4,vars:0,template:function(t,r){t&1&&(h(0,"app-column")(1,"h2"),f(2,"Oceanogragiska observationer"),d(),_(3,"router-outlet"),d())},dependencies:[Ee,ge],encapsulation:2})}}return n})();function zl(n,i){if(n&1&&(h(0,"li")(1,"a",1),f(2),d()()),n&2){let e=i.$implicit;p(),b("routerLink",e.link),p(),M(e.title)}}var ze=(()=>{class n{constructor(){this.navigationItems=[]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-navigation-list"]],inputs:{navigationItems:"navigationItems"},decls:3,vars:0,consts:[[1,"card","card-full"],[3,"routerLink"]],template:function(t,r){t&1&&(h(0,"ul",0),Ie(1,zl,3,2,"li",null,ke),d()),t&2&&(p(),Oe(r.navigationItems))},dependencies:[de],styles:["ul[_ngcontent-%COMP%]{list-style:none;padding-block:var(--medium);padding-inline-start:0}li[_ngcontent-%COMP%]{width:100%}li[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--pnc-sys-color-surface-container-high)}li[_ngcontent-%COMP%]:active{cursor:pointer;background-color:var( --pnc-sys-color-inverse-primary)}a[_ngcontent-%COMP%]{display:flex;padding-block:var(--small);padding-inline:var(--medium);text-decoration:none;width:100%}"]})}}return n})();function Wl(n,i){if(n&1&&(ie(0),h(1,"h3"),f(2,"V\xE4lj parameter"),d(),_(3,"app-navigation-list",0),h(4,"div",1)(5,"span"),f(6,"Data fr\xE5n "),h(7,"a",2),f(8,"SMHI OCOBS"),d(),f(9),d(),h(10,"span",3),f(11),U(12,"date"),d()()),n&2){let e=P(),t=e.oceanographicalObservationsParameters();p(3),b("navigationItems",e.getNavigationItems(t.resource)),p(6),J(", Version ",t.key,""),p(2),J("Updaterades senast ",re(12,3,t.updated),"")}}var Ia=(()=>{class n{constructor(){this.oceanographicalObservationsService=v(Fe),this.oceanographicalObservationsParameters=j(void 0),this.oceanographicalObservationsParameters=A(this.oceanographicalObservationsService.getParameters())}getNavigationItems(e){let t=[];return e.forEach(r=>{t.push({title:`${r.title} (${r.key})`,link:["parameter",r.key]})}),t}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-oceanographical-parameter-list"]],decls:1,vars:1,consts:[[3,"navigationItems"],[1,"component-footer","|","flex","col"],["href","https://opendata-download-ocobs.smhi.se/api"],[1,"helper-text"]],template:function(t,r){t&1&&W(0,Wl,13,5),t&2&&X(r.oceanographicalObservationsParameters()?0:-1)},dependencies:[je,ze],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--medium)}"]})}}return n})();function Hl(n,i){if(n&1&&(ie(0),h(1,"h3"),f(2),d(),h(3,"h4"),f(4,"V\xE4lj station"),d(),_(5,"app-navigation-list",1)),n&2){let e=P(),t=e.oceanographicalObservationsStations();p(2),M(t.title),p(3),b("navigationItems",e.getNavigationItems(t.station))}}var Oa=(()=>{class n{constructor(){this.oceanographicalObservationsService=v(Fe),this.route=v(Y),this.router=v(fe),this.oceanographicalObservationsStations=j(void 0),this.oceanographicalObservationsStations=A(this.route.paramMap.pipe(L(e=>this.oceanographicalObservationsService.getStations(e.get("parameter")))))}getNavigationItems(e){let t=[];return e.forEach(r=>{t.push({title:`${r.title.split(" - ")[1]} - ${r.key}`,link:["station",r.key]})}),t}back(){this.router.navigate(["/oceanographical-observations"])}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-oceanographical-station-list"]],decls:3,vars:1,consts:[[1,"secondary","|","flex","no-grow",3,"click"],[3,"navigationItems"]],template:function(t,r){t&1&&(h(0,"button",0),H("click",function(){return r.back()}),f(1,"Tillbaka"),d(),W(2,Hl,6,2)),t&2&&(p(2),X(r.oceanographicalObservationsStations()?2:-1))},dependencies:[ze],encapsulation:2})}}return n})();var Vl=()=>[Ee,de,Mt,import("./chunk-FZOQMJFR.js").then(n=>n.DatePipe),import("./chunk-FZOQMJFR.js").then(n=>n.NgClass)],Bl=n=>({active:n}),ql=n=>["period",n],Kl=()=>["active"];function Gl(n,i){if(n&1&&(h(0,"a",9),f(1),d()),n&2){let e=i.$implicit;b("routerLink",Be(3,ql,e.key))("routerLinkActive",Ve(5,Kl)),p(),J(" ",e.title," ")}}function Zl(n,i){if(n&1&&(ie(0),h(1,"div",2)(2,"div",3)(3,"h3"),f(4),d(),h(5,"h5"),f(6),d()(),h(7,"div",4)(8,"div",5)(9,"span",6),f(10),d()(),h(11,"span"),f(12),U(13,"date"),d(),h(14,"span"),f(15),U(16,"date"),d()()(),h(17,"div",7)(18,"h4"),f(19,"V\xE4lj period"),d(),h(20,"div",8),Ie(21,Gl,2,6,"a",9,ke),d(),_(23,"router-outlet"),d()),n&2){let e=P().oceanographicalObservationsStation();p(4),J("",e.name," station"),p(2),J(" (",e.key,")"),p(3),b("ngClass",Be(10,Bl,e.active)),p(),J(" ",e.active?"aktiv":"inaktiv"," "),p(2),J("F\xF6rsta m\xE4tning : ",re(13,6,e.from),""),p(3),J("Senaste m\xE4tning : ",re(16,8,e.to),""),p(6),Oe(e.period)}}var Ra=(()=>{class n{constructor(){this.oceanographicalObservationsService=v(Fe),this.route=v(Y),this.router=v(fe),this.oceanographicalObservationsStation=j(void 0),this.oceanographicalObservationsPeriod=j(void 0);let e=this.route.snapshot.paramMap.get("parameter"),t=parseInt(this.route.snapshot.paramMap.get("station"));this.oceanographicalObservationsStation=A(this.oceanographicalObservationsService.getStation(e,t).pipe(E(r=>console.log(r))))}back(){this.router.navigate(["/oceanographical-observations","parameter",this.route.snapshot.paramMap.get("parameter")])}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-oceanographical-detailed-station"]],decls:6,vars:1,consts:[[1,"button-group"],[1,"secondary","|","flex","no-grow",3,"click"],[1,"component-header","|","flex","col","gap-md"],[1,"component-header__title","|","flex","col"],[1,"component-header__body","|","flex","col","gap-sm"],[1,"wrapper"],[1,"pill",3,"ngClass"],[1,"component-body","|","flex","col","gap-md"],[1,"button-group","|","flex","row","gap-md"],[1,"button-primary",3,"routerLink","routerLinkActive"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"button",1),H("click",function(){return r.back()}),f(2,"Tillbaka"),d()(),W(3,Zl,24,12),_e(4,3,Vl)),t&2&&(p(4),xe(r.oceanographicalObservationsStation()!==void 0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--large);flex-grow:0}.pill[_ngcontent-%COMP%]{text-transform:capitalize;padding-block:var(--extra-small);padding-inline:var(--medium);background-color:var(--red-200)}.active[_ngcontent-%COMP%]{background-color:var(--green-200)}"]})}}return n})();function Yl(n,i){if(n&1&&(ie(0),h(1,"div",1)(2,"h6",2),f(3),d(),h(4,"div",3)(5,"div",4)(6,"h6",2),f(7,"\xC4gare"),d(),h(8,"span"),f(9),d()(),h(10,"div",4)(11,"h6",2),f(12,"Min"),d(),h(13,"span"),f(14),U(15,"hydrologicalMinMax"),U(16,"addUnit"),d(),h(17,"span",5),f(18),U(19,"hydrologicalMinMax"),U(20,"date"),d()(),h(21,"div",4)(22,"h6",2),f(23,"Max"),d(),h(24,"span"),f(25),U(26,"hydrologicalMinMax"),U(27,"addUnit"),d(),h(28,"span",5),f(29),U(30,"hydrologicalMinMax"),U(31,"date"),d()(),h(32,"div",4)(33,"h6",2),f(34,"Senast"),d(),h(35,"span"),f(36),U(37,"hydrologicalMinMax"),U(38,"addUnit"),d(),h(39,"span",5),f(40),U(41,"hydrologicalMinMax"),U(42,"date"),d()()(),_(43,"app-area-chart",6),d()),n&2){let e=P(),t=e.oceanographicalObservationsData();p(3),M(t.parameter.name),p(6),M(t.station.owner),p(5),M(et(16,13,me(15,9,t.value,"min","value").value,t.parameter.unit)),p(4),M(re(20,20,me(19,16,t.value,"min","value").date)),p(7),M(et(27,26,me(26,22,t.value,"max","value").value,t.parameter.unit)),p(4),M(re(31,33,me(30,29,t.value,"max","value").date)),p(7),M(et(38,39,me(37,35,t.value,"max","date").value,t.parameter.unit)),p(4),M(re(42,46,me(41,42,t.value,"max","date").date)),p(3),b("chartConfig",e.createChartConfig(t))}}var Ma=(()=>{class n{constructor(){this.route=v(Y),this.oceanographicalObservationsService=v(Fe),this.oceanographicalObservationsData=j(void 0),this.chartConfig={chartColors:["#f8c03f","#32d2ac","#5693e9"],thresholds:[.2,.7,1],unit:"%",domain:[0,1e3],margins:{top:20,right:0,bottom:30,left:55},data:[]},this.oceanographicalObservationsData=A(this.route.parent.paramMap.pipe(L(e=>{let t=parseInt(e.get("station")),r=e.get("parameter"),o=this.route.snapshot.paramMap.get("period");return this.oceanographicalObservationsService.getPeriodData(r,t,o)})))}createChartConfig(e){return this.chartConfig.data=e.value.map(t=>({date:new Date(t.date),value:t.value})),this.chartConfig.unit=e.parameter.unit,this.chartConfig.domain=[Math.min(...this.chartConfig.data.map(t=>t.value)),Math.max(...this.chartConfig.data.map(t=>t.value))],this.chartConfig}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-oceanographical-period"]],decls:2,vars:1,consts:[[1,"data"],[1,"card","flex","col","p-md","gap-md"],[1,"card-title"],[1,"flex","row","gap-md"],[1,"flex","col","gap-xs","grow"],[1,"helper-text"],[3,"chartConfig"]],template:function(t,r){t&1&&(h(0,"div",0),W(1,Yl,44,48,"div",1),d()),t&2&&(p(),X(r.oceanographicalObservationsData()!==void 0?1:-1))},dependencies:[bn,je,_n,Cn],encapsulation:2})}}return n})();var Pa=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-hydrological-observations"]],decls:4,vars:0,template:function(t,r){t&1&&(h(0,"app-column")(1,"h2"),f(2,"Hydrologiska observationer"),d(),_(3,"router-outlet"),d())},dependencies:[Ee,ge],encapsulation:2})}}return n})();var nt=(()=>{class n{constructor(e,t){this.http=e,this.localStorageService=t,this.API="https://opendata-download-hydroobs.smhi.se/api",this.VERSION="version/1.0",this.MEDIA_TYPE=".json",this.APPLICATION_TYPE="application/json",this.BAD_PERIODS=["corrected-archive"]}getParameters(){return this.http.get(`${this.API}/${this.VERSION}${this.MEDIA_TYPE}`).pipe(E(e=>{console.log(e)}),B(e=>(console.log(e),K)))}getStations(e){let t=`parameter/${e}`;return this.http.get(`${this.API}/${this.VERSION}/${t}${this.MEDIA_TYPE}`).pipe(B(r=>(console.log(r),K)))}getStation(e,t){let r=`parameter/${e}`,o=`station/${t}`;return this.http.get(`${this.API}/${this.VERSION}/${r}/${o}${this.MEDIA_TYPE}`).pipe(R(a=>{let s=a.period.filter(c=>!this.BAD_PERIODS.includes(c.key));return a.period=s,a}),B(a=>(console.log(a),K)))}getPeriod(e,t,r){let o=`parameter/${e}`,a=`station/${t}`,s=`period/${r}`,c=`${e}-${t}-${r}`;return this.http.get(`${this.API}/${this.VERSION}/${o}/${a}/${s}${this.MEDIA_TYPE}`).pipe(R(l=>{let u=this.localStorageService.getStoredData("hydrologicalPeriods");return this.localStorageService.setStoredData("hydrologicalPeriods",Z(C({},u),{[c]:l})),l}),B(l=>(console.log(l),K)))}getPeriodData(e,t,r){let o=`parameter/${e}`,a=`station/${t}`,s=`period/${r}`,c="data",l=`${e}-${t}-${r}`,u=this.localStorageService.getStoredData("hydrologicalPeriods"),m=this.localStorageService.getStoredData("hydrologicalData"),g=u[l],S=m[l];return g&&S&&g.data[0].updated===S.updated?(console.log("Using stored data"),w(S)):(console.log("No stored data"),this.http.get(`${this.API}/${this.VERSION}/${o}/${a}/${s}/${c}${this.MEDIA_TYPE}`).pipe(R(y=>{let O=this.localStorageService.getStoredData("hydrologicalData");return O[l]=y,this.localStorageService.setStoredData("hydrologicalData",Z(C({},O),{[l]:y})),y}),B(y=>(console.log(y),K))))}static{this.\u0275fac=function(t){return new(t||n)(G(Le),G(Ne))}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Xl(n,i){if(n&1&&(ie(0),h(1,"h3"),f(2,"V\xE4lj parameter"),d(),_(3,"app-navigation-list",0),h(4,"div",1)(5,"span"),f(6,"Data fr\xE5n "),h(7,"a",2),f(8,"SMHI HYDROOBS"),d(),f(9),d(),h(10,"span",3),f(11),U(12,"date"),d()()),n&2){let e=P(),t=e.hydrologicalObservationsParameters();p(3),b("navigationItems",e.getNavigationItems(t.resource)),p(6),J(", Version ",t.key,""),p(2),J("Updaterades senast ",re(12,3,t.updated),"")}}var Da=(()=>{class n{constructor(){this.hydrologicalObservationsService=v(nt),this.hydrologicalObservationsParameters=j(void 0),this.hydrologicalObservationsParameters=A(this.hydrologicalObservationsService.getParameters())}getNavigationItems(e){let t=[];return e.forEach(r=>{t.push({title:`${r.title} (${r.key})`,link:["parameter",r.key]})}),t}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-hydrological-parameter-list"]],decls:1,vars:1,consts:[[3,"navigationItems"],[1,"component-footer","|","flex","col"],["href","https://opendata-download-hydroobs.smhi.se/api."],[1,"helper-text"]],template:function(t,r){t&1&&W(0,Xl,13,5),t&2&&X(r.hydrologicalObservationsParameters()!==void 0?0:-1)},dependencies:[je,ze],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--medium)}"]})}}return n})();function Jl(n,i){if(n&1&&(ie(0),h(1,"div",1)(2,"h6",2),f(3),d(),h(4,"div",3)(5,"div",4)(6,"h6",2),f(7,"\xC4gare"),d(),h(8,"span"),f(9),d()(),h(10,"div",4)(11,"h6",2),f(12,"Min"),d(),h(13,"span"),f(14),U(15,"hydrologicalMinMax"),U(16,"addUnit"),d(),h(17,"span",5),f(18),U(19,"hydrologicalMinMax"),U(20,"date"),d()(),h(21,"div",4)(22,"h6",2),f(23,"Max"),d(),h(24,"span"),f(25),U(26,"hydrologicalMinMax"),U(27,"addUnit"),d(),h(28,"span",5),f(29),U(30,"hydrologicalMinMax"),U(31,"date"),d()(),h(32,"div",4)(33,"h6",2),f(34,"Senast"),d(),h(35,"span"),f(36),U(37,"hydrologicalMinMax"),U(38,"addUnit"),d(),h(39,"span",5),f(40),U(41,"hydrologicalMinMax"),U(42,"date"),d()()(),_(43,"app-area-chart",6),d()),n&2){let e=P(),t=e.hydrologicalObservationsData();p(3),M(t.parameter.name),p(6),M(t.station.owner),p(5),M(et(16,13,me(15,9,t.value,"min","value").value,t.parameter.unit)),p(4),M(re(20,20,me(19,16,t.value,"min","value").date)),p(7),M(et(27,26,me(26,22,t.value,"max","value").value,t.parameter.unit)),p(4),M(re(31,33,me(30,29,t.value,"max","value").date)),p(7),M(et(38,39,me(37,35,t.value,"max","date").value,t.parameter.unit)),p(4),M(re(42,46,me(41,42,t.value,"max","date").date)),p(3),b("chartConfig",e.createChartConfig(t))}}var Ta=(()=>{class n{constructor(){this.route=v(Y),this.hydrologicalObservationsService=v(nt),this.hydrologicalObservationsData=j(void 0),this.chartConfig={chartColors:["#f8c03f","#32d2ac","#5693e9"],thresholds:[.2,.7,1],unit:"%",domain:[0,1e3],margins:{top:20,right:0,bottom:30,left:55},data:[]},this.hydrologicalObservationsData=A(this.route.parent.paramMap.pipe(L(e=>{let t=parseInt(e.get("station")),r=e.get("parameter"),o=this.route.snapshot.paramMap.get("period");return this.hydrologicalObservationsService.getPeriodData(r,t,o)})))}createChartConfig(e){return this.chartConfig.data=e.value.map(t=>({date:new Date(t.date),value:t.value})),this.chartConfig.unit=e.parameter.unit,this.chartConfig.domain=[Math.min(...this.chartConfig.data.map(t=>t.value)),Math.max(...this.chartConfig.data.map(t=>t.value))],this.chartConfig}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-hydrological-period"]],decls:2,vars:1,consts:[[1,"data"],[1,"card","flex","col","p-md","gap-md"],[1,"card-title"],[1,"flex","row","gap-md"],[1,"flex","col","gap-xs","grow"],[1,"helper-text"],[3,"chartConfig"]],template:function(t,r){t&1&&(h(0,"div",0),W(1,Jl,44,48,"div",1),d()),t&2&&(p(),X(r.hydrologicalObservationsData()!==void 0?1:-1))},dependencies:[bn,je,_n,Cn],encapsulation:2})}}return n})();var Ql=n=>({active:n}),eu=n=>["period",n],tu=()=>["active"];function nu(n,i){if(n&1&&(h(0,"a",9),f(1),d()),n&2){let e=i.$implicit;b("routerLink",Be(3,eu,e.key))("routerLinkActive",Ve(5,tu)),p(),J(" ",e.title," ")}}function iu(n,i){if(n&1&&(ie(0),h(1,"div",2)(2,"div",3)(3,"h3"),f(4),d(),h(5,"h5"),f(6),d()(),h(7,"div",4)(8,"div",5)(9,"span",6),f(10),d()(),h(11,"span"),f(12),U(13,"date"),d(),h(14,"span"),f(15),U(16,"date"),d()()(),h(17,"div",7)(18,"h4"),f(19,"V\xE4lj period"),d(),h(20,"div",8),Ie(21,nu,2,6,"a",9,ke),d(),_(23,"router-outlet"),d()),n&2){let e=P().hydrologicalObservationsStation();p(4),J("",e.name," station"),p(2),J(" (",e.key,")"),p(3),b("ngClass",Be(10,Ql,e.active)),p(),J(" ",e.active?"aktiv":"inaktiv"," "),p(2),J("F\xF6rsta m\xE4tning : ",re(13,6,e.from),""),p(3),J("Senaste m\xE4tning : ",re(16,8,e.to),""),p(6),Oe(e.period)}}var Ea=(()=>{class n{constructor(){this.hydrologicalObservationsService=v(nt),this.route=v(Y),this.router=v(fe),this.hydrologicalObservationsStation=j(void 0),this.hydrologicalObservationsPeriod=j(void 0);let e=this.route.snapshot.paramMap.get("parameter"),t=parseInt(this.route.snapshot.paramMap.get("station"));this.hydrologicalObservationsStation=A(this.hydrologicalObservationsService.getStation(e,t).pipe(E(r=>console.log(r))))}back(){this.router.navigate(["/hydrological-observations","parameter",this.route.snapshot.paramMap.get("parameter")])}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-hydrological-detailed-station"]],decls:4,vars:1,consts:[[1,"button-group"],[1,"secondary","|","flex","no-grow",3,"click"],[1,"component-header","|","flex","col","gap-md"],[1,"component-header__title","|","flex","col"],[1,"component-header__body","|","flex","col","gap-sm"],[1,"wrapper"],[1,"pill",3,"ngClass"],[1,"component-body","|","flex","col","gap-md"],[1,"button-group","|","flex","row","gap-md"],[1,"button-primary",3,"routerLink","routerLinkActive"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"button",1),H("click",function(){return r.back()}),f(2,"Tillbaka"),d()(),W(3,iu,24,12)),t&2&&(p(3),X(r.hydrologicalObservationsStation()!==void 0?3:-1))},dependencies:[Ee,Mt,de,je,vn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--large);flex-grow:0}.pill[_ngcontent-%COMP%]{text-transform:capitalize;padding-block:var(--extra-small);padding-inline:var(--medium);background-color:var(--red-200)}.active[_ngcontent-%COMP%]{background-color:var(--green-200)}"]})}}return n})();function ru(n,i){if(n&1&&(ie(0),h(1,"h3"),f(2),d(),h(3,"h4"),f(4,"V\xE4lj station"),d(),_(5,"app-navigation-list",1)),n&2){let e=P(),t=e.hydrologicalObservationsStations();p(2),M(t.title),p(3),b("navigationItems",e.getNavigationItems(t.station))}}var Aa=(()=>{class n{constructor(){this.hydrologicalObservationsService=v(nt),this.route=v(Y),this.router=v(fe),this.hydrologicalObservationsStations=j(void 0),this.hydrologicalObservationsStations=A(this.route.paramMap.pipe(L(e=>{let t=e.get("parameter");return this.hydrologicalObservationsService.getStations(t)})))}getNavigationItems(e){let t=[];return e.forEach(r=>{t.push({title:`${r.title.split(" - ")[1]} - ${r.key}`,link:["station",r.key]})}),t}back(){this.router.navigate(["/hydrological-observations"])}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-hydrological-station-list"]],decls:3,vars:1,consts:[[1,"secondary","|","flex","no-grow",3,"click"],[3,"navigationItems"]],template:function(t,r){t&1&&(h(0,"button",0),H("click",function(){return r.back()}),f(1,"Tillbaka"),d(),W(2,ru,6,2)),t&2&&(p(2),X(r.hydrologicalObservationsStations()!==void 0?2:-1))},dependencies:[ze],encapsulation:2})}}return n})();var ja=(()=>{class n{constructor(){this.PollenService=v(Tt),this.regions=A(this.PollenService.getPollenRegions())}createNavigationItems(e){return e.map(t=>({link:[".","region",t.id],title:t.name}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-pollen"]],decls:6,vars:1,consts:[[3,"navigationItems"]],template:function(t,r){t&1&&(h(0,"app-column")(1,"h2"),f(2,"Pollen"),d(),h(3,"h3"),f(4,"V\xE4lj omr\xE5de"),d(),_(5,"app-navigation-list",0),d()),t&2&&(p(5),b("navigationItems",r.createNavigationItems(r.regions())))},dependencies:[ge,ze],styles:[".pollen-regions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--small)}.pollen-regions--region[_ngcontent-%COMP%]{list-style:none}"]})}}return n})();var La=(()=>{class n{constructor(){this.pollenService=v(Tt),this.activatedRoute=v(Y),this.userService=v(Pe),this.useAsDefault="Anv\xE4nd som standrd",this.loading="Laddar...",this.setDefaultButtonText=j(this.useAsDefault),this.metadata=j(void 0),this.forecast=A(this.pollenService.pollenForecast$),this.region=A(this.activatedRoute.paramMap.pipe(R(e=>e.get("id"))),{initialValue:""}),this.pollenService.pollenForecastById(this.region()),this.metadata=A(this.userService.getUser().pipe(L(e=>(this.id=e?.sub,this.userService.getUserMetadata(e?.sub)))))}setDefault(e){this.id&&this.metadata()&&(this.setDefaultButtonText.set(this.loading),this.userService.setUserFavoritePollenForecastLoaction(this.id,this.metadata(),e).pipe(ae(),Qe(()=>this.setDefaultButtonText.set(this.useAsDefault))).subscribe(t=>{console.log(t)}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-pollen-region"]],decls:4,vars:2,consts:[[3,"forecast"],[1,"primary",3,"click"]],template:function(t,r){t&1&&(h(0,"app-column"),_(1,"app-pollen-forecast",0),h(2,"button",1),H("click",function(){return r.setDefault({id:r.forecast().regionId,name:r.forecast().regionName})}),f(3),d()()),t&2&&(p(),b("forecast",r.forecast()),p(2),M(r.setDefaultButtonText()))},dependencies:[ge,co],encapsulation:2})}}return n})();var Ua=[{path:"",component:ya},{path:"dashboard",component:Ca,canActivate:[pt]},{path:"profile",component:ba,canActivate:[pt]},{path:"weather",component:xa,canActivate:[pt]},{path:"pollen",component:ja,canActivate:[pt]},{path:"pollen/region/:id",component:La,canActivate:[pt]},{path:"oceanographical-observations",component:ka,children:[{path:"",component:Ia},{path:"parameter/:parameter",component:Oa},{path:"parameter/:parameter/station/:station",component:Ra,children:[{path:"period/:period",component:Ma}]}]},{path:"hydrological-observations",component:Pa,children:[{path:"",component:Da},{path:"parameter/:parameter",component:Aa},{path:"parameter/:parameter/station/:station",component:Ea,children:[{path:"period/:period",component:Ta}]}]},{path:"**",redirectTo:""}];var ou={lessThanXSeconds:{one:"mindre \xE4n en sekund",other:"mindre \xE4n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre \xE4n en minut",other:"mindre \xE4n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungef\xE4r en timme",other:"ungef\xE4r {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungef\xE4r en vecka",other:"ungef\xE4r {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungef\xE4r en m\xE5nad",other:"ungef\xE4r {{count}} m\xE5nader"},xMonths:{one:"en m\xE5nad",other:"{{count}} m\xE5nader"},aboutXYears:{one:"ungef\xE4r ett \xE5r",other:"ungef\xE4r {{count}} \xE5r"},xYears:{one:"ett \xE5r",other:"{{count}} \xE5r"},overXYears:{one:"\xF6ver ett \xE5r",other:"\xF6ver {{count}} \xE5r"},almostXYears:{one:"n\xE4stan ett \xE5r",other:"n\xE4stan {{count}} \xE5r"}},au=["noll","en","tv\xE5","tre","fyra","fem","sex","sju","\xE5tta","nio","tio","elva","tolv"],$a=(n,i,e)=>{let t,r=ou[n];return typeof r=="string"?t=r:i===1?t=r.one:t=r.other.replace("{{count}}",i<13?au[i]:String(i)),e?.addSuffix?e.comparison&&e.comparison>0?"om "+t:t+" sedan":t};var su={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},cu={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},lu={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Na={date:yn({formats:su,defaultWidth:"full"}),time:yn({formats:cu,defaultWidth:"full"}),dateTime:yn({formats:lu,defaultWidth:"full"})};var uu={lastWeek:"'i' EEEE's kl.' p",yesterday:"'ig\xE5r kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},Fa=(n,i,e,t)=>uu[n];var du={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["f\xF6re Kristus","efter Kristus"]},hu={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},pu={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},mu={narrow:["S","M","T","O","T","F","L"],short:["s\xF6","m\xE5","ti","on","to","fr","l\xF6"],abbreviated:["s\xF6n","m\xE5n","tis","ons","tors","fre","l\xF6r"],wide:["s\xF6ndag","m\xE5ndag","tisdag","onsdag","torsdag","fredag","l\xF6rdag"]},fu={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kv\xE4ll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kv\xE4ll",night:"natt"},wide:{am:"f\xF6rmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kv\xE4ll",night:"natt"}},gu={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p\xE5 morg.",afternoon:"p\xE5 efterm.",evening:"p\xE5 kv\xE4llen",night:"p\xE5 natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p\xE5 morg.",afternoon:"p\xE5 efterm.",evening:"p\xE5 kv\xE4llen",night:"p\xE5 natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p\xE5 morgonen",afternoon:"p\xE5 eftermiddagen",evening:"p\xE5 kv\xE4llen",night:"p\xE5 natten"}},vu=(n,i)=>{let e=Number(n),t=e%100;if(t>20||t<10)switch(t%10){case 1:case 2:return e+":a"}return e+":e"},za={ordinalNumber:vu,era:yt({values:du,defaultWidth:"wide"}),quarter:yt({values:hu,defaultWidth:"wide",argumentCallback:n=>n-1}),month:yt({values:pu,defaultWidth:"wide"}),day:yt({values:mu,defaultWidth:"wide"}),dayPeriod:yt({values:fu,defaultWidth:"wide",formattingValues:gu,defaultFormattingWidth:"wide"})};var yu=/^(\d+)(:a|:e)?/i,Su=/\d+/i,wu={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(före Kristus|före vår tid|efter Kristus|vår tid)/i},Cu={any:[/^f/i,/^[ev]/i]},bu={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},_u={any:[/1/i,/2/i,/3/i,/4/i]},xu={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},ku={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Iu={narrow:/^[smtofl]/i,short:/^(sö|må|ti|on|to|fr|lö)/i,abbreviated:/^(sön|mån|tis|ons|tors|fre|lör)/i,wide:/^(söndag|måndag|tisdag|onsdag|torsdag|fredag|lördag)/i},Ou={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},Ru={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(på) (morgonen|eftermiddagen|kvällen|natten))/i},Mu={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kväll/i,night:/natt/i}},Wa={ordinalNumber:ro({matchPattern:yu,parsePattern:Su,valueCallback:n=>parseInt(n,10)}),era:St({matchPatterns:wu,defaultMatchWidth:"wide",parsePatterns:Cu,defaultParseWidth:"any"}),quarter:St({matchPatterns:bu,defaultMatchWidth:"wide",parsePatterns:_u,defaultParseWidth:"any",valueCallback:n=>n+1}),month:St({matchPatterns:xu,defaultMatchWidth:"wide",parsePatterns:ku,defaultParseWidth:"any"}),day:St({matchPatterns:Iu,defaultMatchWidth:"wide",parsePatterns:Ou,defaultParseWidth:"any"}),dayPeriod:St({matchPatterns:Ru,defaultMatchWidth:"any",parsePatterns:Mu,defaultParseWidth:"any"})};var Ha={code:"sv",formatDistance:$a,formatLong:Na,formatRelative:Fa,localize:za,match:Wa,options:{weekStartsOn:1,firstWeekContainsDate:4}};var Va=new fi;Va.setLocale(Ha);var Ba={providers:[{provide:fi,useValue:Va},ua({domain:Q.auth.domain,clientId:Q.auth.clientId,authorizationParams:{redirect_uri:Q.auth.redirectUri,audience:Q.auth.audience,scope:Q.auth.scope},httpInterceptor:{allowedList:[`${Q.dev.serverUrl}/sensors`,`${Q.dev.serverUrl}/sensors/*`,`${Q.dev.serverUrl}/location`,`${Q.dev.serverUrl}/weather`,`${Q.dev.serverUrl}/user/`,`${Q.dev.serverUrl}/user/*`,`${Q.dev.serverUrl}/hass/*`]}}),Vr(Br([da])),qo(Ua)]};Q.production&&void 0;qr(va,Ba).catch(n=>console.log(n));
